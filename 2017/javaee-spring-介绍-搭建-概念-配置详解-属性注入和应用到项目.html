<!-- build time:Sat Oct 27 2018 21:00:24 GMT+0800 (CST) --><!DOCTYPE html><html class="theme-next muse use-motion"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="description" content="一、spring介绍　　1.三层架构中spring位置　　2.spring一站式框架正是因为spring框架性质是属于容器性质的.容器中装什么对象就有什么功能.所以可以一站式.不仅不排斥其他框架,还能帮其他框架管理对象.aop支持、ioc思想、spring jdbc、aop 事务、junit 测试支持二、spring搭建　　1.导包日志包：com.springsource.org.apache.c"><meta name="keywords" content="JAVA,面试"><meta property="og:type" content="article"><meta property="og:title" content="JAVAEE——spring01：介绍、搭建、概念、配置详解、属性注入和应用到项目"><meta property="og:url" content="http://www.jfox.info/2017/javaee-spring-介绍-搭建-概念-配置详解-属性注入和应用到项目.html"><meta property="og:site_name" content="java面试"><meta property="og:description" content="一、spring介绍　　1.三层架构中spring位置　　2.spring一站式框架正是因为spring框架性质是属于容器性质的.容器中装什么对象就有什么功能.所以可以一站式.不仅不排斥其他框架,还能帮其他框架管理对象.aop支持、ioc思想、spring jdbc、aop 事务、junit 测试支持二、spring搭建　　1.导包日志包：com.springsource.org.apache.c"><meta property="og:locale" content="zh_CN"><meta property="og:updated_time" content="2018-10-27T12:29:37.402Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="JAVAEE——spring01：介绍、搭建、概念、配置详解、属性注入和应用到项目"><meta name="twitter:description" content="一、spring介绍　　1.三层架构中spring位置　　2.spring一站式框架正是因为spring框架性质是属于容器性质的.容器中装什么对象就有什么功能.所以可以一站式.不仅不排斥其他框架,还能帮其他框架管理对象.aop支持、ioc思想、spring jdbc、aop 事务、junit 测试支持二、spring搭建　　1.导包日志包：com.springsource.org.apache.c"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.jfox.info/2017/javaee-spring-介绍-搭建-概念-配置详解-属性注入和应用到项目.html"><title>JAVAEE——spring01：介绍、搭建、概念、配置详解、属性注入和应用到项目 | java面试</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">java面试</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.jfox.info/2017/javaee-spring-介绍-搭建-概念-配置详解-属性注入和应用到项目.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Hello"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="java面试"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">JAVAEE——spring01：介绍、搭建、概念、配置详解、属性注入和应用到项目</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-01T23:49:43+08:00">2017-01-01</time></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="一、spring介绍"><a href="#一、spring介绍" class="headerlink" title="一、spring介绍"></a>一、spring介绍</h2><h3 id="1-三层架构中spring位置"><a href="#1-三层架构中spring位置" class="headerlink" title="　　1.三层架构中spring位置"></a>　　1.三层架构中spring位置</h3><h3 id="2-spring一站式框架"><a href="#2-spring一站式框架" class="headerlink" title="　　2.spring一站式框架"></a>　　2.spring一站式框架</h3><p>正是因为spring框架性质是属于容器性质的.</p><p>容器中装什么对象就有什么功能.所以可以一站式.</p><p>不仅不排斥其他框架,还能帮其他框架管理对象.</p><p>aop支持、ioc思想、spring jdbc、aop 事务、junit 测试支持</p><h2 id="二、spring搭建"><a href="#二、spring搭建" class="headerlink" title="二、spring搭建"></a>二、spring搭建</h2><h3 id="1-导包"><a href="#1-导包" class="headerlink" title="　　1.导包"></a>　　1.导包</h3><p>日志包：com.springsource.org.apache.commons.logging-1.1.1.jar</p><p>可选：com.springsource.org.apache.log4j-1.2.15.jar（老版本要导入的，导入可以保证一定能运行）</p><h3 id="2-创建一个对象"><a href="#2-创建一个对象" class="headerlink" title="　　2.创建一个对象"></a>　　2.创建一个对象</h3><pre><code>publicclass User {
    private String name;
    private Integer age;
    public String getName() {
        return name;
    }
    publicvoid setName(String name) {
        this.name = name;
    }
    public Integer getAge() {
        return age;
    }
    publicvoid setAge(Integer age) {
        this.age = age;
    }
}
</code></pre><h3 id="3-书写配置注册对象到容器"><a href="#3-书写配置注册对象到容器" class="headerlink" title="　　3.书写配置注册对象到容器"></a>　　3.书写配置注册对象到容器</h3><p>位置任意(建议放到src下)<br>配置文件名任意(建议applicationContext.xml)</p><p>导入约束：</p><p>然后编辑applicationContext.xml</p><p>进入编辑后点击add，导入xsi</p><p>添加完xsi后，再次点击add，指定一个新的命名空间</p><p>然后选择刚刚导入的xsd</p><p>点击OK，回到刚刚的页面，设置命名空间的名字（可以直接复制location Hint的前半段），prefix空着即可</p><p>点击OK，显示为下面的界面，就说明导入成功了。</p><p>书写applicationContext.xml：</p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://www.springframework.org/schema/beans&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd &quot;&gt;&lt;!-- 将User对象交给spring容器管理 --&gt;&lt;bean  name=&quot;user&quot; class=&quot;cn.itcast.bean.User&quot;&gt;&lt;/bean&gt;&lt;/beans&gt;
</code></pre><h3 id="4-代码测试"><a href="#4-代码测试" class="headerlink" title="　　4.代码测试"></a>　　4.代码测试</h3><pre><code>@Test
publicvoid fun1(){    
    //1 创建容器对象
    ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);
    //2 向容器&quot;要&quot;user对象
    User u = (User) ac.getBean(&quot;user&quot;);
    //3 打印user对象        System.out.println(u);
}
</code></pre><h2 id="三、spring概念"><a href="#三、spring概念" class="headerlink" title="三、spring概念"></a>三、spring概念</h2><h3 id="1-思想"><a href="#1-思想" class="headerlink" title="　　1.思想"></a>　　1.思想</h3><h4 id="1-1-ioc"><a href="#1-1-ioc" class="headerlink" title="　　 1.1 ioc"></a>　　 1.1 ioc</h4><h4 id="1-2-di"><a href="#1-2-di" class="headerlink" title="　　 1.2 di"></a>　　 1.2 di</h4><h3 id="2-applicationContext-amp-BeanFactory"><a href="#2-applicationContext-amp-BeanFactory" class="headerlink" title="　　2.applicationContext&amp;BeanFactory"></a>　　2.applicationContext&amp;BeanFactory</h3><h4 id="2-1-BeanFactory接口"><a href="#2-1-BeanFactory接口" class="headerlink" title="　　 2.1 BeanFactory接口"></a>　　 2.1 BeanFactory接口</h4><p>spring原始接口.针对原始接口的实现类功能较为单一；</p><p>BeanFactory接口实现类的容器.特点是每次在获得对象时才会创建对象。</p><h4 id="2-2-ApplicationContext"><a href="#2-2-ApplicationContext" class="headerlink" title="　　 2.2 ApplicationContext"></a>　　 2.2 ApplicationContext</h4><p>每次容器启动时就会创建容器中配置的所有对象.并提供更多功能。</p><p>从类路径下加载配置文件:ClassPathXmlApplicationContext</p><h4 id="2-3-结论"><a href="#2-3-结论" class="headerlink" title="　　 2.3 结论"></a>　　 2.3 结论</h4><p>结论:web开发中,使用applicationContext. 在资源匮乏的环境可以使用BeanFactory.</p><h2 id="四、spring配置详解"><a href="#四、spring配置详解" class="headerlink" title="四、spring配置详解"></a>四、spring配置详解</h2><h3 id="1-Bean元素"><a href="#1-Bean元素" class="headerlink" title="　　1.Bean元素"></a>　　1.Bean元素</h3><pre><code>&lt;!-- 将User对象交给spring容器管理 --&gt;&lt;!-- Bean元素:使用该元素描述需要spring容器管理的对象
            class属性:被管理对象的完整类名.
            name属性:给被管理的对象起个名字.获得对象时根据该名称获得对象.  
                    可以重复.可以使用特殊字符.
            id属性: 与name属性一模一样. 
                    名称不可重复.不能使用特殊字符.
            结论: 尽量使用name属性.
      --&gt;&lt;bean  name=&quot;user&quot; class=&quot;cn.itcast.bean.User&quot;&gt;&lt;/bean&gt;
</code></pre><h3 id="2-Bean元素进阶"><a href="#2-Bean元素进阶" class="headerlink" title="　　2.Bean元素进阶"></a>　　2.Bean元素进阶</h3><h4 id="2-1-scope属性"><a href="#2-1-scope属性" class="headerlink" title="　　 2.1 scope属性"></a>　　 2.1 scope属性</h4><p>singleton(默认值):单例对象.被标识为单例的对象在spring容器中只会存在一个实例</p><p>prototype:多例原型.被标识为多例的对象,每次再获得才会创建.每次创建都是新的对象.整合struts2时,ActionBean必须配置为多例的.</p><p>request:web环境下.对象与request生命周期一致.</p><p>session:web环境下,对象与session生命周期一致.</p><h4 id="2-2-生命周期属性"><a href="#2-2-生命周期属性" class="headerlink" title="　　 2.2 生命周期属性"></a>　　 2.2 生命周期属性</h4><p>init-method：配置一个方法作为生命周期初始化方法.spring会在对象创建之后立即调用.</p><p>destory-method：配置一个方法作为生命周期的销毁方法.spring容器在关闭并销毁所有容器中的对象之前调用.</p><pre><code>&lt;bean  name=&quot;user&quot; class=&quot;cn.itcast.bean.User&quot;
         init-method=&quot;init&quot; destroy-method=&quot;destory&quot;&gt;&lt;/bean&gt;
</code></pre><h3 id="3-spring创建对象的方式"><a href="#3-spring创建对象的方式" class="headerlink" title="　　3.spring创建对象的方式"></a>　　3.spring创建对象的方式</h3><pre><code>&lt;!-- 创建方式1:空参构造创建（重点）  --&gt;&lt;bean  name=&quot;user&quot; class=&quot;cn.itcast.bean.User&quot;
         init-method=&quot;init&quot; destroy-method=&quot;destory&quot;&gt;&lt;/bean&gt;&lt;!-- 创建方式2:静态工厂创建 （了解）
          调用UserFactory的createUser方法创建名为user2的对象.放入容器
     --&gt;&lt;bean  name=&quot;user2&quot; 
        class=&quot;cn.itcast.b_create.UserFactory&quot; 
        factory-method=&quot;createUser&quot;&gt;&lt;/bean&gt;&lt;!-- 创建方式3:实例工厂创建 （了解）
         调用UserFactory对象的createUser2方法创建名为user3的对象.放入容器
     --&gt;&lt;bean  name=&quot;user3&quot; 
        factory-bean=&quot;userFactory&quot;
        factory-method=&quot;createUser2&quot;&gt;&lt;/bean&gt;&lt;bean  name=&quot;userFactory&quot; 
        class=&quot;cn.itcast.b_create.UserFactory&quot;&gt;&lt;/bean&gt;
</code></pre><h3 id="4-spring的分模块配置"><a href="#4-spring的分模块配置" class="headerlink" title="　　4.spring的分模块配置"></a>　　4.spring的分模块配置</h3><pre><code>&lt;!-- 导入其他spring配置文件 --&gt;&lt;import resource=&quot;cn/itcast/b_create/applicationContext.xml&quot;/&gt;
</code></pre><h2 id="五、spring属性注入"><a href="#五、spring属性注入" class="headerlink" title="五、spring属性注入"></a>五、spring属性注入</h2><h3 id="1-注入方式"><a href="#1-注入方式" class="headerlink" title="　　1.注入方式"></a>　　1.注入方式</h3><h4 id="1-1-set方法注入（重中之重）"><a href="#1-1-set方法注入（重中之重）" class="headerlink" title="　　 1.1 set方法注入（重中之重）"></a>　　 1.1 set方法注入（重中之重）</h4><pre><code>&lt;!-- set方式注入: --&gt;&lt;bean  name=&quot;user&quot; class=&quot;cn.itcast.bean.User&quot;&gt;&lt;!--值类型注入: 为User对象中名为name的属性注入tom作为值 --&gt;&lt;property name=&quot;name&quot; value=&quot;tom&quot;&gt;&lt;/property&gt;&lt;property name=&quot;age&quot;  value=&quot;18&quot;&gt;&lt;/property&gt;&lt;!-- 引用类型注入: 为car属性注入下方配置的car对象 --&gt;&lt;property name=&quot;car&quot;  ref=&quot;car&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- 将car对象配置到容器中 --&gt;&lt;bean name=&quot;car&quot; class=&quot;cn.itcast.bean.Car&quot;&gt;&lt;property name=&quot;name&quot; value=&quot;兰博基尼&quot;&gt;&lt;/property&gt;&lt;property name=&quot;color&quot; value=&quot;黄色&quot;&gt;&lt;/property&gt;&lt;/bean&gt;
</code></pre><h4 id="1-2-构造函数注入（重点）"><a href="#1-2-构造函数注入（重点）" class="headerlink" title="　　 1.2 构造函数注入（重点）"></a>　　 1.2 构造函数注入（重点）</h4><pre><code>&lt;!-- 构造函数注入 --&gt;&lt;bean name=&quot;user2&quot; class=&quot;cn.itcast.bean.User&quot;&gt;&lt;!-- name属性: 构造函数的参数名 --&gt;&lt;!-- index属性: 构造函数的参数索引 --&gt;&lt;!-- type属性: 构造函数的参数类型--&gt;&lt;constructor-arg name=&quot;name&quot; index=&quot;0&quot; type=&quot;java.lang.Integer&quot; value=&quot;999&quot;&gt;&lt;/constructor-arg&gt;&lt;constructor-arg name=&quot;car&quot; ref=&quot;car&quot; index=&quot;1&quot;&gt;&lt;/constructor-arg&gt;&lt;/bean&gt;
</code></pre><h4 id="1-3-p名称空间注入"><a href="#1-3-p名称空间注入" class="headerlink" title="　　 1.3 p名称空间注入"></a>　　 1.3 p名称空间注入</h4><pre><code>&lt;!-- p名称空间注入, 走set方法
    1.导入P名称空间  xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
    2.使用p:属性完成注入
        |-值类型: p:属性名=&quot;值&quot;
        |-对象类型: p:属性名-ref=&quot;bean名称&quot;
 --&gt;&lt;bean  name=&quot;user3&quot; class=&quot;cn.itcast.bean.User&quot; p:name=&quot;jack&quot; p:age=&quot;20&quot; p:car-ref=&quot;car&quot;&gt;&lt;/bean&gt;
</code></pre><h4 id="1-4-spel注入"><a href="#1-4-spel注入" class="headerlink" title="　　 1.4 spel注入"></a>　　 1.4 spel注入</h4><pre><code>&lt;!-- 
    spel注入: spring Expression Language sping表达式语言
 --&gt;&lt;bean  name=&quot;user4&quot; class=&quot;cn.itcast.bean.User&quot;&gt;&lt;property name=&quot;name&quot; value=&quot;#{user.name}&quot;&gt;&lt;/property&gt;&lt;property name=&quot;age&quot; value=&quot;#{user3.age}&quot;&gt;&lt;/property&gt;&lt;property name=&quot;car&quot; ref=&quot;car&quot;&gt;&lt;/property&gt;&lt;/bean&gt;
</code></pre><h3 id="2-复杂类型注入"><a href="#2-复杂类型注入" class="headerlink" title="　　2.复杂类型注入"></a>　　2.复杂类型注入</h3><h4 id="2-1-数组"><a href="#2-1-数组" class="headerlink" title="　　 2.1 数组"></a>　　 2.1 数组</h4><pre><code>&lt;!-- 如果数组中只准备注入一个值(对象),直接使用value|ref即可 
    &lt;property name=&quot;arr&quot; value=&quot;tom&quot; &gt;&lt;/property&gt;
    --&gt;&lt;!-- array注入,多个元素注入 --&gt;&lt;property name=&quot;arr&quot;&gt;&lt;array&gt;&lt;value&gt;tom&lt;/value&gt;&lt;value&gt;jerry&lt;/value&gt;&lt;ref bean=&quot;user4&quot;/&gt;&lt;/array&gt;&lt;/property&gt;
</code></pre><h4 id="2-2-List"><a href="#2-2-List" class="headerlink" title="　　 2.2 List"></a>　　 2.2 List</h4><pre><code>&lt;!-- 如果List中只准备注入一个值(对象),直接使用value|ref即可 
    &lt;property name=&quot;list&quot; value=&quot;jack&quot; &gt;&lt;/property&gt;--&gt;&lt;property name=&quot;list&quot;&gt;&lt;list&gt;&lt;value&gt;jack&lt;/value&gt;&lt;value&gt;rose&lt;/value&gt;&lt;ref bean=&quot;user3&quot;/&gt;&lt;/list&gt;&lt;/property&gt;
</code></pre><h4 id="2-3-Map"><a href="#2-3-Map" class="headerlink" title="　　 2.3 Map"></a>　　 2.3 Map</h4><pre><code>&lt;!-- map类型注入 --&gt;&lt;property name=&quot;map&quot;&gt;&lt;map&gt;&lt;entry key=&quot;url&quot; value=&quot;jdbc:mysql:///crm&quot;&gt;&lt;/entry&gt;&lt;entry key=&quot;user&quot; value-ref=&quot;user4&quot;&gt;&lt;/entry&gt;&lt;entry key-ref=&quot;user3&quot; value-ref=&quot;user2&quot;&gt;&lt;/entry&gt;&lt;/map&gt;&lt;/property&gt;
</code></pre><h4 id="2-4-Properties"><a href="#2-4-Properties" class="headerlink" title="　　 2.4 Properties"></a>　　 2.4 Properties</h4><pre><code>&lt;!-- prperties 类型注入 --&gt;&lt;property name=&quot;prop&quot;&gt;&lt;props&gt;&lt;prop key=&quot;driverClass&quot;&gt;com.jdbc.mysql.Driver&lt;/prop&gt;&lt;prop key=&quot;userName&quot;&gt;root&lt;/prop&gt;&lt;prop key=&quot;password&quot;&gt;1234&lt;/prop&gt;&lt;/props&gt;&lt;/property&gt;
</code></pre><h2 id="六、练习-将spring容器应用到struts-crm项目"><a href="#六、练习-将spring容器应用到struts-crm项目" class="headerlink" title="六、练习:将spring容器应用到struts-crm项目"></a>六、练习:将spring容器应用到struts-crm项目</h2><h3 id="管理Service对象以及Dao对象"><a href="#管理Service对象以及Dao对象" class="headerlink" title="　　管理Service对象以及Dao对象"></a>　　管理Service对象以及Dao对象</h3><h3 id="1-导包-4-2-再加1"><a href="#1-导包-4-2-再加1" class="headerlink" title="　　1.导包(4+2),再加1"></a>　　1.导包(4+2),再加1</h3><p>再加1指的是：spring-web-4.2.4.RELEASE.jar（因为要用到web的监听）</p><h3 id="2-将Service对象以及Dao对象配置到spring容器"><a href="#2-将Service对象以及Dao对象配置到spring容器" class="headerlink" title="　　2.将Service对象以及Dao对象配置到spring容器"></a>　　2.将Service对象以及Dao对象配置到spring容器</h3><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://www.springframework.org/schema/beans&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd &quot;&gt;&lt;!-- 配置Dao --&gt;&lt;bean name=&quot;customerDao&quot; class=&quot;cn.itheima.dao.impl.CustomerDaoImpl&quot;&gt;&lt;/bean&gt;&lt;bean name=&quot;linkManDao&quot; class=&quot;cn.itheima.dao.impl.LinkManDaoImpl&quot;&gt;&lt;/bean&gt;&lt;bean name=&quot;userDao&quot; class=&quot;cn.itheima.dao.impl.UserDaoImpl&quot;&gt;&lt;/bean&gt;&lt;!-- 配置Service --&gt;&lt;bean name=&quot;customerService&quot; class=&quot;cn.itheima.service.impl.CustomerServiceImpl&quot;&gt;&lt;property name=&quot;customerDao&quot; ref=&quot;customerDao&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean name=&quot;linkManService&quot; class=&quot;cn.itheima.service.impl.LinkManServiceImpl&quot;&gt;&lt;property name=&quot;cd&quot; ref=&quot;customerDao&quot;&gt;&lt;/property&gt;&lt;property name=&quot;lmd&quot; ref=&quot;linkManDao&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean name=&quot;userService&quot; class=&quot;cn.itheima.service.impl.UserServiceImpl&quot;&gt;&lt;property name=&quot;ud&quot; ref=&quot;userDao&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;/beans&gt;
</code></pre><h3 id="3-在Action中获得容器中的Service对象"><a href="#3-在Action中获得容器中的Service对象" class="headerlink" title="　　3.在Action中获得容器中的Service对象"></a>　　3.在Action中获得容器中的Service对象</h3><h4 id="3-1-web-xml中配置容器随项目启动"><a href="#3-1-web-xml中配置容器随项目启动" class="headerlink" title="　　 3.1 web.xml中配置容器随项目启动"></a>　　 3.1 web.xml中配置容器随项目启动</h4><pre><code>&lt;!-- 可以让spring容器随项目的启动而创建,随项目的关闭而销毁 --&gt;&lt;listener&gt;&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;!-- 指定加载spring配置文件的位置 --&gt;&lt;context-param&gt;&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;&lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;&lt;/context-param&gt;
</code></pre><h4 id="3-2-在Action中获得容器"><a href="#3-2-在Action中获得容器" class="headerlink" title="　　 3.2 在Action中获得容器"></a>　　 3.2 在Action中获得容器</h4><pre><code>//获得spring容器=&gt;从Application域获得即可
        //1 获得servletContext对象
        ServletContext sc = ServletActionContext.getServletContext();
        //2.从Sc中获得ac容器
        WebApplicationContext ac = WebApplicationContextUtils.getWebApplicationContext(sc);
        //3.从容器中获得CustomerService
        UserService us = (UserService) ac.getBean(&quot;userService&quot;);
</code></pre><h3 id="4-管理容器在项目中的生命周期"><a href="#4-管理容器在项目中的生命周期" class="headerlink" title="　　4.管理容器在项目中的生命周期"></a>　　4.管理容器在项目中的生命周期</h3><h4 id="下面错误的示范-导致每次请求都创建新的容器"><a href="#下面错误的示范-导致每次请求都创建新的容器" class="headerlink" title="　　 下面错误的示范.导致每次请求都创建新的容器"></a>　　 下面错误的示范.导致每次请求都创建新的容器</h4><pre><code>//创建容器对象
        ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);
        //获得cs(customerService对象)
        CustomerService cs = (CustomerService) ac.getBean(&quot;customerService&quot;);
</code></pre></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="4142158067"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="5618891265"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/深入-jvm-分析-spring-boot-应用-hibernate-validator-noclassdeffounderror.html" rel="next" title="深入 JVM 分析 spring-boot 应用 hibernate-validator NoClassDefFoundError"><i class="fa fa-chevron-left"></i> 深入 JVM 分析 spring-boot 应用 hibernate-validator NoClassDefFoundError</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/java-基础-程序流程控制-下.html" rel="prev" title="Java 基础 程序流程控制 （下）">Java 基础 程序流程控制 （下） <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Hello</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">1358</span> <span class="site-state-item-name">posts</span></a></div></nav></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、spring介绍"><span class="nav-number">1.</span> <span class="nav-text">一、spring介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-三层架构中spring位置"><span class="nav-number">1.1.</span> <span class="nav-text">1.三层架构中spring位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-spring一站式框架"><span class="nav-number">1.2.</span> <span class="nav-text">2.spring一站式框架</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、spring搭建"><span class="nav-number">2.</span> <span class="nav-text">二、spring搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-导包"><span class="nav-number">2.1.</span> <span class="nav-text">1.导包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-创建一个对象"><span class="nav-number">2.2.</span> <span class="nav-text">2.创建一个对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-书写配置注册对象到容器"><span class="nav-number">2.3.</span> <span class="nav-text">3.书写配置注册对象到容器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-代码测试"><span class="nav-number">2.4.</span> <span class="nav-text">4.代码测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、spring概念"><span class="nav-number">3.</span> <span class="nav-text">三、spring概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-思想"><span class="nav-number">3.1.</span> <span class="nav-text">1.思想</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-ioc"><span class="nav-number">3.1.1.</span> <span class="nav-text">1.1 ioc</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-di"><span class="nav-number">3.1.2.</span> <span class="nav-text">1.2 di</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-applicationContext-amp-BeanFactory"><span class="nav-number">3.2.</span> <span class="nav-text">2.applicationContext&amp;BeanFactory</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-BeanFactory接口"><span class="nav-number">3.2.1.</span> <span class="nav-text">2.1 BeanFactory接口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-ApplicationContext"><span class="nav-number">3.2.2.</span> <span class="nav-text">2.2 ApplicationContext</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-结论"><span class="nav-number">3.2.3.</span> <span class="nav-text">2.3 结论</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、spring配置详解"><span class="nav-number">4.</span> <span class="nav-text">四、spring配置详解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Bean元素"><span class="nav-number">4.1.</span> <span class="nav-text">1.Bean元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Bean元素进阶"><span class="nav-number">4.2.</span> <span class="nav-text">2.Bean元素进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-scope属性"><span class="nav-number">4.2.1.</span> <span class="nav-text">2.1 scope属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-生命周期属性"><span class="nav-number">4.2.2.</span> <span class="nav-text">2.2 生命周期属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-spring创建对象的方式"><span class="nav-number">4.3.</span> <span class="nav-text">3.spring创建对象的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-spring的分模块配置"><span class="nav-number">4.4.</span> <span class="nav-text">4.spring的分模块配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、spring属性注入"><span class="nav-number">5.</span> <span class="nav-text">五、spring属性注入</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-注入方式"><span class="nav-number">5.1.</span> <span class="nav-text">1.注入方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-set方法注入（重中之重）"><span class="nav-number">5.1.1.</span> <span class="nav-text">1.1 set方法注入（重中之重）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-构造函数注入（重点）"><span class="nav-number">5.1.2.</span> <span class="nav-text">1.2 构造函数注入（重点）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-p名称空间注入"><span class="nav-number">5.1.3.</span> <span class="nav-text">1.3 p名称空间注入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-spel注入"><span class="nav-number">5.1.4.</span> <span class="nav-text">1.4 spel注入</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-复杂类型注入"><span class="nav-number">5.2.</span> <span class="nav-text">2.复杂类型注入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-数组"><span class="nav-number">5.2.1.</span> <span class="nav-text">2.1 数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-List"><span class="nav-number">5.2.2.</span> <span class="nav-text">2.2 List</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-Map"><span class="nav-number">5.2.3.</span> <span class="nav-text">2.3 Map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-Properties"><span class="nav-number">5.2.4.</span> <span class="nav-text">2.4 Properties</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、练习-将spring容器应用到struts-crm项目"><span class="nav-number">6.</span> <span class="nav-text">六、练习:将spring容器应用到struts-crm项目</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#管理Service对象以及Dao对象"><span class="nav-number">6.1.</span> <span class="nav-text">管理Service对象以及Dao对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-导包-4-2-再加1"><span class="nav-number">6.2.</span> <span class="nav-text">1.导包(4+2),再加1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-将Service对象以及Dao对象配置到spring容器"><span class="nav-number">6.3.</span> <span class="nav-text">2.将Service对象以及Dao对象配置到spring容器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-在Action中获得容器中的Service对象"><span class="nav-number">6.4.</span> <span class="nav-text">3.在Action中获得容器中的Service对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-web-xml中配置容器随项目启动"><span class="nav-number">6.4.1.</span> <span class="nav-text">3.1 web.xml中配置容器随项目启动</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-在Action中获得容器"><span class="nav-number">6.4.2.</span> <span class="nav-text">3.2 在Action中获得容器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-管理容器在项目中的生命周期"><span class="nav-number">6.5.</span> <span class="nav-text">4.管理容器在项目中的生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#下面错误的示范-导致每次请求都创建新的容器"><span class="nav-number">6.5.1.</span> <span class="nav-text">下面错误的示范.导致每次请求都创建新的容器</span></a></li></ol></li></ol></li></ol></div></div></section></div></aside><div class="sfix"><div class="fixedme"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9477174171188196" data-ad-slot="9597600460" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Hello</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div><span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script></body></html><!-- rebuild by neat -->