<!-- build time:Sat Oct 27 2018 21:00:28 GMT+0800 (CST) --><!DOCTYPE html><html class="theme-next muse use-motion"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="description" content="正则表达式异常强大，一直理解不深，用的也不深，这次项目中尝试，体会到了它的强大之处。字符串查找，匹配，替换，正则无不能做，特别是灵活的运用子串匹配得到的变量值$1,$2，再进行二次处理能够达到很巧妙的效果。Java中使用也比较简单：1. 编译正则表达式的字面值得到对应的模式Pattern对象;2. 创建匹配给定输入与此模式的匹配器Matcher;3. 通过匹配器对象执行操作，匹配器对象的方法很丰富"><meta name="keywords" content="JAVA,面试"><meta property="og:type" content="article"><meta property="og:title" content="体会强大的Java正则表达式：字符串查找 匹配，替换"><meta property="og:url" content="http://www.jfox.info/2017/ti-hui-qiang-da-de-java-zheng-ze-biao-da-shi-zi-fu-chuan-cha-zhao-pi-pei-ti-huan.html"><meta property="og:site_name" content="java面试"><meta property="og:description" content="正则表达式异常强大，一直理解不深，用的也不深，这次项目中尝试，体会到了它的强大之处。字符串查找，匹配，替换，正则无不能做，特别是灵活的运用子串匹配得到的变量值$1,$2，再进行二次处理能够达到很巧妙的效果。Java中使用也比较简单：1. 编译正则表达式的字面值得到对应的模式Pattern对象;2. 创建匹配给定输入与此模式的匹配器Matcher;3. 通过匹配器对象执行操作，匹配器对象的方法很丰富"><meta property="og:locale" content="zh_CN"><meta property="og:updated_time" content="2018-10-27T12:29:39.317Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="体会强大的Java正则表达式：字符串查找 匹配，替换"><meta name="twitter:description" content="正则表达式异常强大，一直理解不深，用的也不深，这次项目中尝试，体会到了它的强大之处。字符串查找，匹配，替换，正则无不能做，特别是灵活的运用子串匹配得到的变量值$1,$2，再进行二次处理能够达到很巧妙的效果。Java中使用也比较简单：1. 编译正则表达式的字面值得到对应的模式Pattern对象;2. 创建匹配给定输入与此模式的匹配器Matcher;3. 通过匹配器对象执行操作，匹配器对象的方法很丰富"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.jfox.info/2017/ti-hui-qiang-da-de-java-zheng-ze-biao-da-shi-zi-fu-chuan-cha-zhao-pi-pei-ti-huan.html"><title>体会强大的Java正则表达式：字符串查找 匹配，替换 | java面试</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">java面试</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.jfox.info/2017/ti-hui-qiang-da-de-java-zheng-ze-biao-da-shi-zi-fu-chuan-cha-zhao-pi-pei-ti-huan.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Hello"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="java面试"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">体会强大的Java正则表达式：字符串查找 匹配，替换</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-01T23:43:10+08:00">2017-01-01</time></span></div></header><div class="post-body" itemprop="articleBody"><p>正则表达式异常强大，一直理解不深，用的也不深，这次项目中尝试，体会到了它的强大之处。字符串查找，匹配，替换，正则无不能做，特别是灵活的运用子串匹配得到的变量值$1,$2，再进行二次处理能够达到很巧妙的效果。</p><p>Java中使用也比较简单：</p><p>1. 编译正则表达式的字面值得到对应的模式Pattern对象;</p><p>2. 创建匹配给定输入与此模式的匹配器Matcher;</p><p>3. 通过匹配器对象执行操作，匹配器对象的方法很丰富，方法之间组合使用更加强大。</p><p>直接代码吧</p><p>public static void main(String[] args) {</p><p>//被替换关键字的的数据源</p><p>Map tokens = new HashMap();</p><p>tokens.put(“cat”, “Garfield”);</p><p>tokens.put(“beverage”, “coffee”);</p><p>//匹配类似velocity规则的字符串</p><p>String template = “${cat} really needs some ${beverage}.”;</p><p>//生成匹配模式的正则表达式</p><p>String patternString = “\$\{(” + StringUtils.join(tokens.keySet(), “|”) + “)\}”;</p><p>Pattern pattern = Pattern.compile(patternString);</p><p>Matcher matcher = pattern.matcher(template);</p><p>//两个方法：appendReplacement, appendTail</p><p>StringBuffer sb = new StringBuffer();</p><p>while(matcher.find()) {</p><p>matcher.appendReplacement(sb, tokens.get(matcher.group(1)));</p><p>}</p><p>matcher.appendTail(sb);</p><p>//out: Garfield really needs some coffee.</p><p>System.out.println(sb.toString());</p><p>//对于特殊含义字符”\”,”$”，使用Matcher.quoteReplacement消除特殊意义</p><p>matcher.reset();</p><p>//out: cat really needs some beverage.</p><p>System.out.println(matcher.replaceAll(“$1”));</p><p>//out: $1 really needs some $1.</p><p>System.out.println(matcher.replaceAll(Matcher.quoteReplacement(“$1”)));</p><p>//到得邮箱的前缀名。插一句，其实验证邮箱的正则多种多样，根据自己的需求写对应的正则才是王道</p><p>String emailPattern = “^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$”;</p><p>pattern = Pattern.compile(emailPattern);</p><p>matcher = pattern.matcher(“test@<a href="https://www.jfox.info/go.php?url=http://mydown.yesky.com/soft/33/31000033.shtml">qq</a>.com”);</p><p>//验证是否邮箱</p><p>System.out.println(matcher.find());</p><p>//得到@符号前的邮箱名 out: test</p><p>System.out.println(matcher.replaceAll(“$1”));</p><p>//获得匹配值</p><p>String temp = “”;</p><p>pattern = Pattern.compile(“android:(name|value)=\”(.+?)\””);</p><p>matcher = pattern.matcher(temp);</p><p>while(matcher.find()) {</p><p>//out: appid, joy</p><p>System.out.println(matcher.group(2));</p><p>}</p><p>}</p><p>一些老是忘基础</p><p>[…] 位于括号之内的任意字符</p><p>[^…] 不在括号之中的任意字符</p><p>. 除了换行符之外的任意字符,等价于[^\n]</p><p>\w 任何单字字符, 等价于[a-zA-Z0-9]</p><p>\W 任何非单字字符,等价于[^a-zA-Z0-9]</p><p>\s 任何空白符,等价于[\ t \ n \ r \ f \ v]</p><p>\S 任何非空白符,等价于[^\ t \ n \ r \ f \ v]</p><p>\d 任何数字,等价于[0-9]</p><p>\D 除了数字之外的任何字符,等价于[^0-9]</p><p>[\b] 一个退格直接量(特例)</p><p>{n, m} 匹配前一项至少n次,但是不能超过m次</p><p>{n, } 匹配前一项n次,或者多次</p><p>{n} 匹配前一项恰好n次</p><p>? 匹配前一项0次或1次,也就是说前一项是可选的. 等价于 {0, 1}</p><p>+ 匹配前一项1次或多次,等价于{1,}</p><p>* 匹配前一项0次或多次.等价于{0,}</p><p>| 选择.匹配的要么是该符号左边的子表达式,要么它右边的子表达式</p><p>(…) 分组.将几个项目分为一个单元.这个单元可由 *、+、？和|等符号使用,而且还可以记住和这个组匹配的字符以供此后引用使用</p><p>\n 和第n个分组所匹配的字符相匹配.分组是括号中的子表达式(可能是嵌套的).分组号是从左到右计数的左括号数</p><p>^ 匹配的是字符的开头,在多行检索中,匹配的是一行的开头</p><p>$ 匹配的是字符的结尾,在多行检索中,匹配的是一行的结尾</p><p>\b 匹配的是一个词语的边界.简而言之就是位于字符\w 和 \w之间的位置(注意:[\b]匹配的是退格符)</p><p>\B 匹配的是非词语的边界的字符</p><p>题外话</p><p>邮箱验证，以前验证邮箱，网上搜个正则装在自己程序里面就用，其实这是不对的，不同的公司对邮箱的验证格式是不一样的，比方说163和qq邮箱注册，他们要求的格式都不一样，所以搜一个正则表达式就去套所有的邮箱格式也是不对的，符合自己的需求的正则才是正确的。</p></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="4142158067"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="5618891265"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/tuo-ying-er-chu-cong-mian-shi-liu-cheng-kai-shi-gu-ge-zi-shen-mian-shi-guan-jing-yan-zong-jie.html" rel="next" title="脱颖而出,从面试流程开始——谷歌资深面试官经验总结"><i class="fa fa-chevron-left"></i> 脱颖而出,从面试流程开始——谷歌资深面试官经验总结</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/ti-hui-qiang-da-de-java-zheng-ze-biao-da-shi-zi-fu-chuan-cha-zhao-pi-pei-ti-huan.html" rel="prev" title="体会强大的Java正则表达式：字符串查找 匹配，替换">体会强大的Java正则表达式：字符串查找 匹配，替换 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Hello</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">1358</span> <span class="site-state-item-name">posts</span></a></div></nav></div></section></div></aside><div class="sfix"><div class="fixedme"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9477174171188196" data-ad-slot="9597600460" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Hello</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div><span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script></body></html><!-- rebuild by neat -->