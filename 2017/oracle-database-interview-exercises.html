<!-- build time:Sat Nov 03 2018 11:53:29 GMT+0800 (CST) --><!DOCTYPE html><html class="theme-next muse use-motion"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta name="fileName" content="2017/0653"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="description" content="1．列出至少有一个员工的所有部门。分析：每个部门有多少员工 —— 根据部门编号进行分组select deptno,count() from emp group by deptno having count() &amp;gt;= 1;2．列出薪金比“SMITH”多的所有员工。分析：先查询出SMITH工资 ： select sal from emp where ename=’SMITH’;select *"><meta name="keywords" content="JAVA,面试"><meta property="og:type" content="article"><meta property="og:title" content="Oracle数据库面试练习题"><meta property="og:url" content="http://www.jfox.info/2017/oracle-database-interview-exercises.html"><meta property="og:site_name" content="java面试"><meta property="og:description" content="1．列出至少有一个员工的所有部门。分析：每个部门有多少员工 —— 根据部门编号进行分组select deptno,count() from emp group by deptno having count() &amp;gt;= 1;2．列出薪金比“SMITH”多的所有员工。分析：先查询出SMITH工资 ： select sal from emp where ename=’SMITH’;select *"><meta property="og:locale" content="zh_CN"><meta property="og:updated_time" content="2018-10-27T12:29:37.392Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Oracle数据库面试练习题"><meta name="twitter:description" content="1．列出至少有一个员工的所有部门。分析：每个部门有多少员工 —— 根据部门编号进行分组select deptno,count() from emp group by deptno having count() &amp;gt;= 1;2．列出薪金比“SMITH”多的所有员工。分析：先查询出SMITH工资 ： select sal from emp where ename=’SMITH’;select *"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.jfox.info/2017/oracle-database-interview-exercises.html"><title>Oracle数据库面试练习题 | java面试</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">java面试</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>Tags</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.jfox.info/2017/oracle-database-interview-exercises.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Hello"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="java面试"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Oracle数据库面试练习题</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-01T23:45:53+08:00">2017-01-01</time></span></div></header><div class="post-body" itemprop="articleBody"><p>1．列出至少有一个员工的所有部门。<br>分析：每个部门有多少员工 —— 根据部门编号进行分组<br>select deptno,count(<em>) from emp group by deptno having count(</em>) &gt;= 1;</p><p>2．列出薪金比“SMITH”多的所有员工。<br>分析：先查询出SMITH工资 ： select sal from emp where ename=’SMITH’;<br>select * from emp where sal &gt; (select sal from emp where ename=’SMITH’);</p><p>3．<strong>*</strong> 列出所有员工的姓名及其直接上级的姓名。<br>分析：表自映射，为表起别名，进行关联 t1 表模拟员工表 t2 表保存直接上级信息<br>select t1.ename 员工姓名, t2.ename 直接上级 from emp t1,emp t2 where t1.MGR = t2.empno;</p><p>4．列出受雇日期早于其直接上级的所有员工。<br>分析：原理和上题类似<br>select t1.*,t2.hiredate from emp t1,emp t2 where t1.MGR = t2.empno and t1.hiredate &lt; t2.hiredate;</p><p>5．列出部门名称和这些部门的员工信息，同时列出那些没有员工的部门。<br>分析：部门没员工也要显示 — 外连接。无论怎样部门信息一定要显示，通过部门去关联员工<br>select * from dept left outer join emp on dept.deptno = emp.deptno ;</p><p>6．列出所有“CLERK”（办事员）的姓名及其部门名称。<br>分析：查找job为CLERK 员工姓名和部门名称<br>员工姓名 emp表<br>部门名称 dept表<br>select emp.ename,dept.dname,emp.job from emp,dept where emp.deptno = dept.deptno and emp.job=’CLERK’;</p><p>7．列出最低薪金大于1500的各种工作。<br>分析：工作的最低薪金 —- 按工作分组，求最低薪金<br>select min(sal) from emp group by job;<br>大于1500 是一个分组条件 — having<br>select job,min(sal) from emp group by job having min(sal) &gt; 1500;</p><p>8．列出在部门“SALES”（销售部）工作的员工的姓名，假定不知道销售部的部门编号。<br>分析：员工姓名位于 emp 部门名称 dept<br>select emp.ename from emp,dept where emp.deptno = dept.deptno and dept.dname = ‘SALES’;</p><p>9．列出薪金高于公司平均薪金的所有员工。<br>分析：先求公司平均薪金 select avg(sal) from emp;<br>select * from emp where sal &gt; (select avg(sal) from emp);</p><p>10．列出与“SCOTT”从事相同工作的所有员工。<br>分析：先查询SCOTT : select job from emp where ename =’SCOTT’;<br>select * from emp where ename &lt;&gt; ‘SCOTT’ and job = (select job from emp where ename =’SCOTT’);</p><p>11．列出薪金等于部门30中员工的薪金的所有员工的姓名和薪金。<br>分析：查看部门30 中所有员工薪资列表 select sal from emp where deptno = 30;<br>select * from emp where sal in (select sal from emp where deptno = 30);</p><p>12．列出薪金高于在部门30工作的所有员工的薪金的员工姓名和薪金。<br>分析：<br>select <em>from emp where sal &gt; all(select sal from emp where deptno = 30);<br>select </em>from emp where sal &gt; (select max(sal) from emp where deptno = 30);</p><p>13．列出在每个部门工作的员工数量、平均工资。<br>分析：按部门分组<br>select deptno, count(*),avg(sal) from emp group by deptno;</p><p>14．列出所有员工的姓名、部门名称和工资。<br>分析：<br>select emp.ename,dept.dname,emp.sal from emp,dept where emp.deptno = dept.deptno;</p><p>15．列出所有部门的详细信息和部门人数。<br>分析：<br>select dept.<em>,count(emp.</em>) from emp,dept where emp.deptno = dept.deptno group by deptno ; 错误！<br>求各个部门编号和人数 select deptno,count(<em>) from emp group by deptno;<br>再和dept表关联 select dept.</em>,temp.部门人数 from dept , (select deptno,count(*) 部门人数 from emp group by deptno) temp where dept.deptno = temp.deptno ;</p><p>16．列出各种工作的最低工资。<br>分析：各个工作 分组 ， 最低工资 min<br>select job,min(sal) from emp group by job;</p><p>17．列出各个部门的MANAGER（经理）的最低薪金。<br>分析：where job=’MANAGER’ 过滤所有不是经理数据<br>select deptno,min(sal) from emp where job =’MANAGER’ group by deptno;</p><p>18．列出所有员工的年工资,按年薪从低到高排序。<br>分析： select ename, sal<em>12 from emp order by sal</em>12 asc;</p><p>19.查出emp表中薪水在3000以上（包括3000）的所有员工的员工号、姓名、薪水。<br>分析： select * from emp where sal &gt;= 3000;</p><p>20.查询出所有薪水在’ALLEN’之上的所有人员信息。<br>分析：select * from emp where sal &gt; (select sal from emp where ename =’ALLEN’);</p><p>21.查询出emp表中部门编号为20，薪水在2000以上（不包括2000）的所有员工，显示他们的员工号，姓名以及薪水，以如下列名显示：员工编号 员工名字 薪水<br>分析： select empno 员工编号,ename 员工姓名 ,sal 薪水 from emp where deptno = 20 and sal &gt; 2000;</p><p>22.查询出emp表中所有的工作种类（无重复）<br>分析： select distinct job from emp;</p><p>23.查询出所有奖金（comm）字段不为空的人员的所有信息。<br>分析：不为空 is not null<br>select * from emp where comm is not null;</p><p>24.查询出薪水在800到2500之间（闭区间）所有员工的信息。（注：使用两种方式实现and以及between and）<br>分析：select <em>from emp where sal &gt;= 800 and sal &lt;= 2500;<br>select </em>from emp where sal between 800 and 2500;</p><p>25.查询出员工号为7521，7900，7782的所有员工的信息。（注：使用两种方式实现，or以及in）<br>分析：select <em>from emp where empno in(7521,7900,7782);<br>select </em>from emp where empno=7521 or empno = 7900 or empno = 7782;</p><p>26.查询出名字中有“A”字符，并且薪水在1000以上（不包括1000）的所有员工信息。<br>分析： 模糊查询<br>select * from emp where ename like ‘%A%’ and sal &gt; 1000;</p><p>27.查询出名字第三个字母是“M”的所有员工信息。<br>分析：第三个字母 <strong>M%<br>select * from emp where ename like ‘</strong>M%’;</p><p>28.将所有员工按薪水升序排序，薪水相同的按照入职时间降序排序。<br>分析：select * from emp order by sal asc,hiredate desc;</p><p>29.将所有员工按照名字首字母升序排序，首字母相同的按照薪水降序排序。<br>分析：SUBSTRING(‘字符串’,第几个字符,长度); —- 首字母 substring(ename,1,1)<br>select * from emp order by substring(ename,1,1) asc,sal desc;</p><p>30.查询出最早工作的那个人的名字、入职时间和薪水。<br>分析：最早工作人 — hiredate 最小值<br>select ename,hiredate,sal from emp where hiredate = (select min(hiredate) from emp);<br>select ename,hiredate,sal from emp where hiredate &lt;= all(select hiredate from emp);</p><blockquote><p>any === &gt; min<br>all === &gt; max<br>&lt; any === &lt; max<br>&lt; all === &lt; min</p></blockquote><p>31.显示所有员工的名字、薪水、奖金，如果没有奖金，暂时显示100.<br>分析：select ename,sal,comm from emp; —- 没有奖金显示100 函数ifnull<br>select ename,sal,ifnull(comm,100) from emp;</p><p>32.显示出薪水最高人的职位。<br>分析: select job from emp where sal = (select max(sal) from emp);<br>select job from emp where sal &gt;= all(select sal from emp);</p><p>33.查出emp表中所有部门的最高薪水和最低薪水，部门编号为10的部门不显示。<br>分析：按部门分组 select deptno,max(sal),min(sal) from emp where deptno&lt;&gt;10 group by deptno;</p><p>34.删除10号部门薪水最高的员工。<br>分析：delete from emp where deptno=10 and sal &gt;= all(select sal from emp where deptno=10 ); // MYSQL 不支持<br>Mysql 规范，修改或者删除 表中记录，不允许在子查询中 查询相同表<br>ERROR 1093 (HY000): You can’t specify target table ’emp’ for update in FROM clause</p><p>解决方案：临时表<br>delete from emp where deptno=10 and sal &gt;= all(select t.sal from (select sal from emp where deptno=10) t );</p><p>35.将薪水最高的员工的薪水降30%。<br>分析：update emp set sal = sal<em>0.7 where sal = (select max(sal) from emp); // MYSQL 不支持<br>引入 临时表<br>update emp set sal = sal</em>0.7 where sal = (select t.maxsal from (select max(sal) maxsal from emp) t);</p><p>36.查询员工姓名，工资和 工资级别(工资&gt;=3000 为3级，工资&gt;2000 为2级，工资&lt;=2000 为1级)<br>分析：<br>select ename,sal, case when sal&gt;=3000 then ‘3级’ when sal&gt;2000 then ‘2级’ else ‘1级’ end 级别 from emp;</p><p>语法：case … when … then … when … then … else … end</p><p>行列互换<br>姓名 课程 分数</p><p>张三 语文 74</p><p>张三 数学 83</p><p>张三 物理 93</p><p>李四 语文 74</p><p>李四 数学 84</p><p>李四 物理 94</p><p>想变成(得到如下结果)：</p><p>姓名 语文 数学 物理</p><p>—- —- —- —-</p><p>李四 74 84 94</p><p>张三 74 83 93</p><p>——————-</p><p>select name,max(case when cource =’语文’ then score else 0 end) from scores group by name;</p><p>select name,max(case when cource =’语文’ then score else 0 end) 语文,max(case when cource =’数学’ then score else 0 end) 数学,<br>max(case when cource =’英语’ then score else 0 end) 英语 from scores group by name;</p></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="4142158067"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="5618891265"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/why-so-hard-for-promotion-of-programmer.html" rel="next" title="程序员为什么那么难升职"><i class="fa fa-chevron-left"></i> 程序员为什么那么难升职</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/nanjing-sap-interview-experience.html" rel="prev" title="南京SAP面试经历 » java面试题">南京SAP面试经历 » java面试题 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Hello</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">691</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">4</span> <span class="site-state-item-name">tags</span></a></div></nav></div></section></div></aside><div class="sfix"><div class="fixedme"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9477174171188196" data-ad-slot="9597600460" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Hello</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div><span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script></body></html><!-- rebuild by neat -->