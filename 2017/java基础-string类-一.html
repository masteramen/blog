<!-- build time:Sat Oct 27 2018 21:00:23 GMT+0800 (CST) --><!DOCTYPE html><html class="theme-next muse use-motion"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="description" content="一、String 类代表字符串Java 程序中的所有字符串字面值（如 &amp;quot;abc&amp;quot; ）都作为此类的实例实现。字符串是常量；它们的值在创建之后不能更改。字符串缓冲区支持可变的字符串。因为 String 对象是不可变的，所以可以共享。例如：1 String str = “abc”;等效于：1char data[] = {‘a’, ‘b’, ‘c’}; 2 String str = n"><meta name="keywords" content="JAVA,面试"><meta property="og:type" content="article"><meta property="og:title" content="Java基础——String类（一）"><meta property="og:url" content="http://www.jfox.info/2017/java基础-string类-一.html"><meta property="og:site_name" content="java面试"><meta property="og:description" content="一、String 类代表字符串Java 程序中的所有字符串字面值（如 &amp;quot;abc&amp;quot; ）都作为此类的实例实现。字符串是常量；它们的值在创建之后不能更改。字符串缓冲区支持可变的字符串。因为 String 对象是不可变的，所以可以共享。例如：1 String str = “abc”;等效于：1char data[] = {‘a’, ‘b’, ‘c’}; 2 String str = n"><meta property="og:locale" content="zh_CN"><meta property="og:updated_time" content="2018-10-27T12:29:40.333Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Java基础——String类（一）"><meta name="twitter:description" content="一、String 类代表字符串Java 程序中的所有字符串字面值（如 &amp;quot;abc&amp;quot; ）都作为此类的实例实现。字符串是常量；它们的值在创建之后不能更改。字符串缓冲区支持可变的字符串。因为 String 对象是不可变的，所以可以共享。例如：1 String str = “abc”;等效于：1char data[] = {‘a’, ‘b’, ‘c’}; 2 String str = n"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.jfox.info/2017/java基础-string类-一.html"><title>Java基础——String类（一） | java面试</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">java面试</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.jfox.info/2017/java基础-string类-一.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Hello"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="java面试"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Java基础——String类（一）</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-01T23:50:06+08:00">2017-01-01</time></span></div></header><div class="post-body" itemprop="articleBody"><p><strong><code>一、String</code> 类代表字符串</strong></p><p>Java 程序中的所有字符串字面值（如 <code>&quot;abc&quot;</code> ）都作为此类的实例实现。</p><p>字符串是常量；它们的值在创建之后不能更改。字符串缓冲区支持可变的字符串。因为 String 对象是不可变的，所以可以共享。例如：</p><p>1 String str = “abc”;</p><p>等效于：</p><p>1char data[] = {‘a’, ‘b’, ‘c’}; 2 String str = new String(data);</p><p>下面给出了一些如何使用字符串的更多示例：</p><pre><code>1 System.out.println(&quot;abc&quot;);
2      String cde = &quot;cde&quot;;
3      System.out.println(&quot;abc&quot; + cde);
4      String c = &quot;abc&quot;.substring(2,3);
5      String d = cde.substring(1, 2);
</code></pre><p><code>String</code> 类包括的方法可用于检查序列的单个字符、比较字符串、搜索字符串、提取子字符串、创建字符串副本并将所有字符全部转换为大写或小写。大小写映射基于Character类指定的 Unicode 标准版。</p><p>Java 语言提供对字符串串联符号（”+”）以及将其他对象转换为字符串的特殊支持。字符串串联是通过 <code>StringBuilder</code>（或 <code>StringBuffer</code>）类及其 <code>append</code> 方法实现的。字符串转换是通过 <code>toString</code> 方法实现的，该方法由 <code>Object</code> 类定义，并可被 Java 中的所有类继承。有关字符串串联和转换的更多信息，请参阅 Gosling、Joy 和 Steele 合著的 The Java Language Specification。</p><p>除非另行说明，否则将 null 参数传递给此类中的构造方法或方法将抛出空指针异常。</p><p><code>String</code> 表示一个 UTF-16 格式的字符串，其中的增补字符由代理项对表示。索引值是指 <code>char</code> 代码单元，因此增补字符在 <code>String</code> 中占用两个位置。</p><p><code>String</code> 类提供处理 Unicode 代码点（即字符）和 Unicode 代码单元（即 <code>char</code> 值）的方法。</p><p><strong>二、字符串的创建方式</strong></p><p>1 String s=”abc”;</p><p>表示，先在栈上创建一个引用s ,它会先去常量池中看有没有 “abc” 这个常量,如果有,则把s指向常量池中的 “abc”。</p><p>如果没有,则在常量池中创建 abc,</p><p>1 String s=new String(“abc”);</p><p>相当于 String obj=”abc”; String s=new String(obj) ; 经过这个操作以后,内存中有两份数据: 常量池中一份,堆上一份。由于有了 new 这个操作,不管常量池中原来有没有 “abc” ,它都会在堆上创建一份</p><p><strong>三、字符串的比较</strong></p><p>例1：字符串常量池的使用</p><pre><code>1 String s0 = &quot;abc&quot;; 
2 String s1 = &quot;abc&quot;; 
3 System.out.println(s0==s1); //true 
4//s0  和  s1 都指向了常量池中的同一个 &quot;abc&quot;
</code></pre><p>例2：String中 == 与equals的区别</p><pre><code>1 String s0 =new String (&quot;abc&quot;);   //new 这个操作,将在堆上产生对象,s0指向了堆2 String s1 =new String (&quot;abc&quot;); 
3 System.out.println(s0==s1); //false  s0 和 s1 指向的是堆上不同de的对象System.out.println(s0.equals(s1)); //true 因为String类重写了equals方法,比的是实体的内容 
</code></pre><p>例3：编译期确定</p><pre><code>1 String s0=&quot;helloworld&quot;;
2 String s1=&quot;helloworld&quot;;
3 String s2=&quot;hello&quot; + &quot;world&quot;;   //编译的时候,直接就编译成了 helloworld4 System.out.println( s0==s1 );   //true5 System.out.println( s0==s2 );   //true
</code></pre><p>例4：编译期无法确定</p><pre><code>1 String s0=&quot;helloworld&quot;;
2 String s1=new String(&quot;helloworld&quot;);
3 String s2=&quot;hello&quot; + new String(&quot;world&quot;);
4 System.out.println( s0==s1 ); //false  一个指向常量池,一个指向堆System.out.println( s0==s2 ); //false5 System.out.println( s1==s2 ); //false
</code></pre><p>例5：编译期优化</p><pre><code> 1 String s0 = &quot;a1&quot;;
 2 String s1 = &quot;a&quot; + 1;
 3 System.out.println((s0 == s1)); //true 4 5 String s2 = &quot;atrue&quot;;
 6 String s3= &quot;a&quot; + &quot;true&quot;;
 7 System.out.println((s2 == s3))  //true 8 9 String s4 = &quot;a3.4&quot;;
10 String s5 = &quot;a&quot; + 3.4;
11 System.out.println((s4 == s5));  //true
</code></pre><p>例6 编译期无法确定</p><pre><code>1 String s0 = &quot;ab&quot;;
2 String s1 = &quot;b&quot;;
3 String s2 = &quot;a&quot; + s1;   //s1不是常量,编译期无法确定4 System.out.println((s0 == s2)); //false
</code></pre><p>例7：编译期确定</p><pre><code>1 String s0 = &quot;ab&quot;;
2final String s1 = &quot;b&quot;;     //加上final 就变成了常量3 String s2 = &quot;a&quot; + s1;  //对于两个常量相加,编译器能确定它的值4 System.out.println((s0 == s2));     //true
</code></pre><p><strong>四、String对象内存分析</strong></p><p>//例一</p><p>String a = “abc”; ①</p><p>String b = “abc”; ②</p><p>分析：</p><p>①代码执行后在常量池(constant pool)中创建了一个值为abc的String对象，</p><p>②执行时，因为常量池中存在 “abc” 所以就不再创建新的String对象了。</p><p>//例二</p><p>String c = new String(“xyz”);①</p><p>String d = new String(“xyz”);②</p><p>分析：</p><p>①Class被加载时，”xyz”被作为常量读入，在常量池(constant pool)里创建了一个共享的值为”xyz”的String对象；</p><p>然后当调用到new String(“xyz”)的时候，会在堆(heap)里创建这个new String(“xyz”)对象;</p><p>②由于常量池(constant pool)中存在”xyz”所以不再创建”xyz”，然后创建新的new String(“xyz”)。</p><p>//例三</p><p>String s1 = new String(“xyz”); //创建二个对象(常量池和堆中)，一个引用</p><p>String s2 = new String(“xyz”); //创建一个对象(堆中)，并且以后每执行一次创建一个对象，一个引用</p><p>String s3 = “abc”; //创建一个对象(常量池中)，一个引用</p><p>String s4 = “abc”; //不创建对象(共享上次常量池中的数据)，只是创建一个新的引用s4)</p><p>//例四</p><pre><code> 1publicstaticvoid main(String[] args) {    
 2//以下两条语句创建了1个对象。&quot;凤山&quot;存储在字符串常量池中     3 String str1 = &quot;凤山&quot;;    
 4 String str2 = &quot;凤山&quot;;     
 5 System.out.println(str1==str2);//true     
 6//以下两条语句创建了3个对象。&quot;天峨&quot;，存储在字符串常量池中，两个new String()对象存储在堆内存中      7 String str3 = new String(&quot;天峨&quot;);     
 8 String str4 = new String(&quot;天峨&quot;);     
 9 System.out.println(str3==str4);//false      
10//以下两条语句创建了1个对象。9是存储在栈内存中   //这里所说的一个对象,是指的9 , i 和 j 则是对9的引用  11int i = 9;     
12int j = 9;     
13 System.out.println(i==j);//true      
14//由于没有了装箱，以下两条语句创建了2个对象。两个1对象存储在堆内存中    15 Integer l1 = new Integer(1);    注意这里是没有装箱操作的
16 Integer k1 = new Integer(1);    
17 System.out.println(l1==k1);//false 　
18//以下两条语句创建了1个对象。1对象存储在栈内存中。自动装箱时对于值从127之间的值，使用一个实例。    19 Integer l = 20;//装箱     20 Integer k = 20;//装箱     21 System.out.println(l==k);//true    22 Integer i1 = 256;     //以下两条语句创建了2个对象。i1,i2变量存储在栈内存中，两个256对象存储在堆内存中   23 Integer i2 = 256;     
24 System.out.println(i1==i2);//false  25 }
</code></pre><p><strong>五、String 类常见操作</strong></p><p>字符串的常见操作，大致有以下几类 获取,判断,转换,替换和切割</p><p>1) 获取类操作</p><p>String str=”春花秋月何时了,往事知多少?小楼昨夜又东风,故国不堪回首月明中”;</p><p>1 这个字符串到底有多长</p><p>2 第4个字是什么 即根据索引获取字符</p><p>3 第一个逗号是第几个字符 即根据字符取索引（ 取字符(或字符串)的位置）</p><p>4 最后一个“月”字的索引</p><p>5 是否含有“月明” 这个字符序列</p><p>6 是不是以”春花”开头，是否以“月明中”结尾</p><p>7 这个串是否为空</p><p>8 是否和另一个串相等</p><p>String str=”春花秋月何时了,往事知多少?小楼昨夜又东风,故国不堪回首月明中”;</p><p>System.out.println(“长度:” + str.length()); //31</p><p>System.out.println(“第四个字是”+str.charAt(3)); //月</p><p>System.out.println(“第一个逗号的位置是”+str.indexOf(‘,’)); //7</p><p>System.out.println(“第一个逗号的位置是”+str.indexOf(“,”)); //7</p><p>System.out.println(“第一个往事的位置是”+str.indexOf(“往事”)); //8</p><p>System.out.println(“最后一个月字的索引”+str.lastIndexOf(“月”)); //28</p><p>System.out.println(“是否含有月明”+str.contains(“月明”)); //true</p><p>System.out.println(“是否以春花开头”+str.startsWith(“春花”)); //true</p><p>System.out.println(“是否以月明中结尾”+str.endsWith(“月明中”)); //true</p><p>System.out.println(“是否为空”+str.isEmpty()); //false</p><p>System.out.println(str.equals(“另一个字符串”)); //false</p><p>String s1=”abc”;</p><p>String s2=”aBC”;</p><p>System.out.println(s1.equalsIgnoreCase(s2)); //true equalsIgnoreCase 比较的时候忽略大小写。</p></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="4142158067"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="5618891265"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/lucenc.html" rel="next" title="Lucenc » java面试题"><i class="fa fa-chevron-left"></i> Lucenc » java面试题</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/bencode解码实现.html" rel="prev" title="bencode解码实现">bencode解码实现 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Hello</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">1358</span> <span class="site-state-item-name">posts</span></a></div></nav></div></section></div></aside><div class="sfix"><div class="fixedme"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9477174171188196" data-ad-slot="9597600460" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Hello</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div><span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script></body></html><!-- rebuild by neat -->