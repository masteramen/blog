<!-- build time:Sat Oct 27 2018 21:00:22 GMT+0800 (CST) --><!DOCTYPE html><html class="theme-next muse use-motion"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="description" content="（1）进入商品查询列表页面；（2）点击修改，进入商品修改页面，页面中显示了要修改的商品（从数据库查询），要修改的商品从数据库查询，根据商品id（主键）查询商品信息；（3）在商品修改页面，修改商品信息，修改后，点击提交。1.2开发mappermapper:根据id查询商品信息根据id更新Items表的数据不用开发了，使用逆向工程生成的代码，Spring+SpringMVC+MyBatis深入学习及搭"><meta name="keywords" content="JAVA,面试"><meta property="og:type" content="article"><meta property="og:title" content="Spring+SpringMVC+MyBatis深入学习及搭建(十五)——SpringMVC注解开发（基础篇）"><meta property="og:url" content="http://www.jfox.info/2017/spring-springmvc-mybatis深入学习及搭建-十五-springmvc注解开发-基础篇.html"><meta property="og:site_name" content="java面试"><meta property="og:description" content="（1）进入商品查询列表页面；（2）点击修改，进入商品修改页面，页面中显示了要修改的商品（从数据库查询），要修改的商品从数据库查询，根据商品id（主键）查询商品信息；（3）在商品修改页面，修改商品信息，修改后，点击提交。1.2开发mappermapper:根据id查询商品信息根据id更新Items表的数据不用开发了，使用逆向工程生成的代码，Spring+SpringMVC+MyBatis深入学习及搭"><meta property="og:locale" content="zh_CN"><meta property="og:updated_time" content="2018-10-27T12:29:40.320Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Spring+SpringMVC+MyBatis深入学习及搭建(十五)——SpringMVC注解开发（基础篇）"><meta name="twitter:description" content="（1）进入商品查询列表页面；（2）点击修改，进入商品修改页面，页面中显示了要修改的商品（从数据库查询），要修改的商品从数据库查询，根据商品id（主键）查询商品信息；（3）在商品修改页面，修改商品信息，修改后，点击提交。1.2开发mappermapper:根据id查询商品信息根据id更新Items表的数据不用开发了，使用逆向工程生成的代码，Spring+SpringMVC+MyBatis深入学习及搭"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.jfox.info/2017/spring-springmvc-mybatis深入学习及搭建-十五-springmvc注解开发-基础篇.html"><title>Spring+SpringMVC+MyBatis深入学习及搭建(十五)——SpringMVC注解开发（基础篇） | java面试</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">java面试</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.jfox.info/2017/spring-springmvc-mybatis深入学习及搭建-十五-springmvc注解开发-基础篇.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Hello"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="java面试"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Spring+SpringMVC+MyBatis深入学习及搭建(十五)——SpringMVC注解开发（基础篇）</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-01T23:51:53+08:00">2017-01-01</time></span></div></header><div class="post-body" itemprop="articleBody"><p>（1）进入商品查询列表页面；</p><p>（2）点击修改，进入商品修改页面，页面中显示了要修改的商品（从数据库查询），</p><p>要修改的商品从数据库查询，根据商品id（主键）查询商品信息；</p><p>（3）在商品修改页面，修改商品信息，修改后，点击提交。</p><h2 id="1-2开发mapper"><a href="#1-2开发mapper" class="headerlink" title="1.2开发mapper"></a>1.2开发mapper</h2><p>mapper:</p><p>根据id查询商品信息</p><p>根据id更新Items表的数据</p><p>不用开发了，使用逆向工程生成的代码，<a href="https://www.jfox.info/go.php?url=http://www.cnblogs.com/Joanna-Yan/p/6973266.html">Spring+SpringMVC+MyBatis深入学习及搭建(十)——MyBatis逆向工程</a></p><h2 id="1-3开发service"><a href="#1-3开发service" class="headerlink" title="1.3开发service"></a>1.3开发service</h2><p>接口功能：</p><p>根据id查询商品信息</p><p>修改商品信息</p><pre><code>publicinterface ItemsService {
    //商品查询列表public List&lt;ItemsCustom&gt; findItemsList(ItemsQueryVo itemsQueryVo) throws Exception;

    //根据id查询商品信息public ItemsCustom findItemsById(Integer id) throws Exception;

    //修改商品信息publicvoid updateItems(Integer id,ItemsCustom itemsCustom) throws Exception;
}

publicclass ItemsServiceImpl implements ItemsService{

    @Autowired
    private ItemsMapperCustom itemsMapperCustom;
    @Autowired
    private ItemsMapper itemsMapper;

    @Override
    public List&lt;ItemsCustom&gt; findItemsList(ItemsQueryVo itemsQueryVo)
            throws Exception {
        //通过ItemsMapperCustom查询数据库return itemsMapperCustom.findItemsList(itemsQueryVo);
    }

    @Override
    public ItemsCustom findItemsById(Integer id) throws Exception {
        Items items=itemsMapper.selectByPrimaryKey(id);
        //中间对商品信息进行业务处理
        //....
        //返回Items的扩展类ItemsCustom
        ItemsCustom itemsCustom=new ItemsCustom();
        //将items的属性值拷贝到itemsCustom        BeanUtils.copyProperties(items, itemsCustom);
        return itemsCustom;
    }

    @Override
    publicvoid updateItems(Integer id, ItemsCustom itemsCustom)
            throws Exception {
        //添加业务校验，通常在service接口对关键参数进行校验
        //校验id是否为空，如果为空抛出异常

        //更新商品信息使用updateByPrimaryKeyWithBLOBs根据id更新items表中所有字段，包括大文本类型字段
        //updateByPrimaryKeyWithBLOBs要求必须传入id        itemsCustom.setId(id);
        itemsMapper.updateByPrimaryKeyWithBLOBs(itemsCustom);
    }
}
</code></pre><h2 id="1-4开发controller"><a href="#1-4开发controller" class="headerlink" title="1.4开发controller"></a>1.4开发controller</h2><p>方法：</p><p>商品信息修改页面显示</p><p>商品信息修改提交</p><pre><code>@Controller
publicclass ItemsController {

    @Autowired
    private ItemsService itemsService;

    //商品查询http://localhost:8080/SpringMVC_MyBatis/queryItems.action
    @RequestMapping(&quot;/queryItems&quot;)
    public ModelAndView queryItems() throws Exception{
        //调用service查找数据库，查询商品列表
        List&lt;ItemsCustom&gt; itemsList=itemsService.findItemsList(null);

        //返回ModelAndView
        ModelAndView modelAndView=new ModelAndView();
        modelAndView.addObject(&quot;itemsList&quot;, itemsList);
        //指定视图
//        modelAndView.setViewName(&quot;/WEB-INF/jsp/items/itemsList.jsp&quot;);
        //下边的路径，如果在视图解析器中配置jsp路径的前缀和jsp路径的后缀，修改为
        modelAndView.setViewName(&quot;items/itemsList&quot;);
        return modelAndView;
    }

    //商品信息修改页面显示
    @RequestMapping(&quot;/editItems&quot;)
    public ModelAndView editItems() throws Exception{
        //调用service根据商品id查询商品信息
        ItemsCustom itemsCustom=itemsService.findItemsById(1);
        //返回ModelAndView
        ModelAndView modelAndView=new ModelAndView();
        //将商品信息放到model
        modelAndView.addObject(&quot;itemsCustom&quot;,itemsCustom);
        //商品修改页面
        modelAndView.setViewName(&quot;items/editItems&quot;);
        return modelAndView;
    }

    //商品信息修改提交
    @RequestMapping(&quot;/editItemsSubmit&quot;)
    public ModelAndView editItemsSubmit() throws Exception{
        //调用service更新商品信息，页面需要将商品信息传到此方法
        //......


        //返回ModelAndView
        ModelAndView modelAndView=new ModelAndView();
        //返回一个成功页面
        modelAndView.setViewName(&quot;success&quot;);
        return modelAndView;
    }
}
</code></pre><h2 id="1-5-编写jsp"><a href="#1-5-编写jsp" class="headerlink" title="1.5 编写jsp"></a>1.5 编写jsp</h2><p>itemsList.jsp</p><pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
    pageEncoding=&quot;UTF-8&quot;%&gt;&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot;  prefix=&quot;fmt&quot;%&gt;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;title&gt;查询商品列表&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;form action=&quot;${pageContext.request.contextPath }/queryItem.action&quot; method=&quot;post&quot;&gt;
查询条件：
&lt;table width=&quot;100%&quot; border=1&gt;&lt;tr&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;查询&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
商品列表：
&lt;table width=&quot;100%&quot; border=1&gt;&lt;tr&gt;&lt;td&gt;商品名称&lt;/td&gt;&lt;td&gt;商品价格&lt;/td&gt;&lt;td&gt;生产日期&lt;/td&gt;&lt;td&gt;商品描述&lt;/td&gt;&lt;td&gt;操作&lt;/td&gt;&lt;/tr&gt;&lt;c:forEach items=&quot;${itemsList }&quot; var=&quot;item&quot;&gt;&lt;tr&gt;&lt;td&gt;${item.name }&lt;/td&gt;&lt;td&gt;${item.price }&lt;/td&gt;&lt;td&gt;&lt;fmt:formatDate value=&quot;${item.createtime}&quot; pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;/&gt;&lt;/td&gt;&lt;td&gt;${item.detail }&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;${pageContext.request.contextPath }/editItems.action?id=${item.id}&quot;&gt;修改&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/c:forEach&gt;&lt;/table&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre><p>editItems.jsp</p><pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
    pageEncoding=&quot;UTF-8&quot;%&gt;&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot;  prefix=&quot;fmt&quot;%&gt;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;title&gt;修改商品信息&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;form id=&quot;itemForm&quot; action=&quot;&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;&lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;${itemsCustom.id }&quot;/&gt;
修改商品信息：
&lt;table width=&quot;100%&quot; border=1&gt;&lt;tr&gt;&lt;td&gt;商品名称&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;${itemsCustom.name }&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;商品价格&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;price&quot; value=&quot;${itemsCustom.price }&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;%--&lt;tr&gt;&lt;td&gt;商品生产日期&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;createtime&quot; value=&quot;&lt;fmt:formatDate value=&quot;${item.createtime}&quot; pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;/&gt;&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;商品图片&lt;/td&gt;&lt;td&gt;&lt;c:if test=&quot;${item.pic !=null}&quot;&gt;&lt;img src=&quot;/pic/${item.pic}&quot; width=100 height=100/&gt;&lt;br/&gt;&lt;/c:if&gt;&lt;input type=&quot;file&quot;  name=&quot;pictureFile&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;--%&gt;&lt;tr&gt;&lt;td&gt;商品简介&lt;/td&gt;&lt;td&gt;&lt;textarea rows=&quot;3&quot; cols=&quot;30&quot; name=&quot;detail&quot;&gt;${itemsCustom.detail }&lt;/textarea&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;提交&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre><h2 id="1-6-商品修改调试"><a href="#1-6-商品修改调试" class="headerlink" title="1.6 商品修改调试"></a>1.6 商品修改调试</h2><p>访问地址：<a href="http://localhost:8080/SpringMVC_MyBatis/queryItems.action" target="_blank" rel="noopener">http://localhost:8080/SpringMVC_MyBatis/queryItems.action</a> 点击修改</p><p>接下来，学习一些特性：</p><h1 id="2-RequestMapping"><a href="#2-RequestMapping" class="headerlink" title="2. @RequestMapping"></a>2. @RequestMapping</h1><p>通过RequestMapping注解可以定义不同的处理器映射规则。</p><h2 id="2-1URL路径映射"><a href="#2-1URL路径映射" class="headerlink" title="2.1URL路径映射"></a>2.1URL路径映射</h2><p>@RequestMapping(value=”/item”)或@RequestMapping(“/item”)</p><p>value的值是数组，可以将多个url映射到同一个方法.</p><h2 id="2-2窄化请求映射"><a href="#2-2窄化请求映射" class="headerlink" title="2.2窄化请求映射"></a>2.2窄化请求映射</h2><p>在Controller Class上添加@RequestMapping(url)指定通用请求前缀， 限制此类下的所有方法请求url必须以请求前缀开头，通过此方法对url进行分类管理。</p><p>那么前面jsp中的请求的地址要相应改变</p><p>itemsList.jsp中：</p><p>editItems.jsp中：</p><h2 id="2-3请求方法限定"><a href="#2-3请求方法限定" class="headerlink" title="2.3请求方法限定"></a>2.3请求方法限定</h2><p>出于安全性考虑，对http的链接进行方法限制。</p><p>如果限制请求为post，进行get请求时，则报错：</p><h1 id="3-Controller类中方法的返回值"><a href="#3-Controller类中方法的返回值" class="headerlink" title="3.Controller类中方法的返回值"></a>3.Controller类中方法的返回值</h1><h2 id="3-1返回ModelAndView"><a href="#3-1返回ModelAndView" class="headerlink" title="3.1返回ModelAndView"></a>3.1返回ModelAndView</h2><p>Controller方法中定义ModelAndView对象并返回，对象中可添加model数据、指定view。</p><h2 id="3-2返回字符串"><a href="#3-2返回字符串" class="headerlink" title="3.2返回字符串"></a>3.2返回字符串</h2><h3 id="3-2-1逻辑视图名"><a href="#3-2-1逻辑视图名" class="headerlink" title="3.2.1逻辑视图名"></a>3.2.1逻辑视图名</h3><p>controller方法返回字符串可以指定逻辑视图名，通过视图解析器解析为物理视图地址。</p><p>真正视图（jsp路径）=前缀+逻辑+逻辑视图名+后缀</p><pre><code>@RequestMapping(value=&quot;/editItems&quot;,method={RequestMethod.POST,RequestMethod.GET})
public String editItems(Model model) throws Exception{
    //调用service根据商品id查询商品信息
    ItemsCustom itemsCustom=itemsService.findItemsById(1);

    //通过形参中的model将model数据传到页面
    //相当于modelAndView.addObject方法
    model.addAttribute(&quot;itemsCustom&quot;, itemsCustom);
    return &quot;items/editItems&quot;;
}
</code></pre><h3 id="3-2-2Redirect重定向"><a href="#3-2-2Redirect重定向" class="headerlink" title="3.2.2Redirect重定向"></a>3.2.2Redirect重定向</h3><p>需求：商品修改提交后，重定向到商品查询列表。</p><p>redirect重定向特点：浏览器地址栏中的url会变化。修改提交的request数据无法传到重定向的地址。因为重定向后重新进行request（request无法共享）</p><pre><code>    @RequestMapping(&quot;/editItemsSubmit&quot;)
    public String editItemsSubmit(HttpServletRequest request) throws Exception{
        //调用service更新商品信息，页面需要将商品信息传到此方法
        //......

        //重定向到商品的查询列表return &quot;redirect:queryItems.action&quot;;
    }
}
</code></pre><h3 id="3-2-3forward页面转发"><a href="#3-2-3forward页面转发" class="headerlink" title="3.2.3forward页面转发"></a>3.2.3forward页面转发</h3><p>通过forward进行页面转发，浏览器地址栏url不变，request可以共享。</p><pre><code>    @RequestMapping(&quot;/editItemsSubmit&quot;)
    public String editItemsSubmit(HttpServletRequest request) throws Exception{
        //调用service更新商品信息，页面需要将商品信息传到此方法
        //......

        //重定向到商品的查询列表
//        return &quot;redirect:queryItems.action&quot;;
        //页面转发return &quot;forward:queryItems.action&quot;;
    }
</code></pre><p>验证request是否可以共享：</p><p>在editItems.jsp中提交了一个id，在queryItems.action获取id。</p><pre><code>//商品查询http://localhost:8080/SpringMVC_MyBatis/items/queryItems.action
    @RequestMapping(&quot;/queryItems&quot;)
    public ModelAndView queryItems(HttpServletRequest request) throws Exception{
        //测试forward后request是否可以共享
        System.out.println(request.getParameter(&quot;id&quot;));

        //调用service查找数据库，查询商品列表
        List&lt;ItemsCustom&gt; itemsList=itemsService.findItemsList(null);

        //返回ModelAndView
        ModelAndView modelAndView=new ModelAndView();
        modelAndView.addObject(&quot;itemsList&quot;, itemsList);
        //指定视图
//        modelAndView.setViewName(&quot;/WEB-INF/jsp/items/itemsList.jsp&quot;);
        //下边的路径，如果在视图解析器中配置jsp路径的前缀和jsp路径的后缀，修改为
        modelAndView.setViewName(&quot;items/itemsList&quot;);
        return modelAndView;
    }
</code></pre><h2 id="3-3返回void"><a href="#3-3返回void" class="headerlink" title="3.3返回void"></a>3.3返回void</h2><p>在controller方法形参上可以定义request和response，使用request或response指定响应结果：</p><p>（1）使用request转发页面，如下：</p><pre><code>request.getRequestDispatcher(&quot;页面路径&quot;).forward(request, response);
</code></pre><p>（2）也可以通过response页面重定向：</p><pre><code>response.sendRedirect(&quot;url&quot;);
</code></pre><p>（3）也可以通过response指定响应结果，例如响应json数据如下：</p><pre><code>response.setCharacterEncoding(&quot;utf-8&quot;);
response.setContentType(&quot;application/json;charset=utf-8&quot;);
response.getWriter().write(&quot;json串&quot;);
</code></pre><h1 id="4-参数绑定"><a href="#4-参数绑定" class="headerlink" title="4.参数绑定"></a>4.参数绑定</h1><p>struts接收数据时，是在action类的成员变量中定义你需要接收的参数。</p><h2 id="4-1spring参数绑定过程"><a href="#4-1spring参数绑定过程" class="headerlink" title="4.1spring参数绑定过程"></a>4.1spring参数绑定过程</h2><p>从客户端请求key/value数据，经过参数绑定，将key/value数据绑定到controller方法的形参上。</p><p>springmvc中，接收页面提交的数据是通过方法形参来接收。而不是在controller类定义成员变量接收！</p><h2 id="4-2默认支持的类型"><a href="#4-2默认支持的类型" class="headerlink" title="4.2默认支持的类型"></a>4.2默认支持的类型</h2><p>直接在controller方法形参上定义下边类型的对象，就可以使用这些对象。在参数绑定过程中，如果遇到下边类型直接进行绑定。</p><h3 id="4-2-1HttpServletRequest"><a href="#4-2-1HttpServletRequest" class="headerlink" title="4.2.1HttpServletRequest"></a>4.2.1HttpServletRequest</h3><p>通过request对象获取请求信息。</p><h3 id="4-2-2HttpServletResponse"><a href="#4-2-2HttpServletResponse" class="headerlink" title="4.2.2HttpServletResponse"></a>4.2.2HttpServletResponse</h3><p>通过response处理响应信息</p><h3 id="4-2-3HttpSession"><a href="#4-2-3HttpSession" class="headerlink" title="4.2.3HttpSession"></a>4.2.3HttpSession</h3><p>通过session对象得到session中存放的对象。</p><h3 id="4-2-4Model-ModelMap"><a href="#4-2-4Model-ModelMap" class="headerlink" title="4.2.4Model/ModelMap"></a>4.2.4Model/ModelMap</h3><p>作用：将model数据填充到request域。</p><p>ModelMap是Model接口的实现类，通过Model或ModelMap向页面传递数据，如下：</p><pre><code>//调用service查询商品信息
Items item = itemService.findItemById(id);
model.addAttribute(&quot;item&quot;, item);
</code></pre><p>页面通过${item.XXXX}获取item对象的属性值。</p><p>使用Model和ModelMap的效果一样，如果直接使用Model，springmvc会实例化ModelMap。</p><h2 id="4-3简单类型"><a href="#4-3简单类型" class="headerlink" title="4.3简单类型"></a>4.3简单类型</h2><p>通过@RequestParam对简单类型的参数进行绑定。</p><p>如果不使用@RequestParam，要求request传入参数名称和controller方法的形参名称一致，方可绑定成功。</p><p>如果使用@RequestParam，不用限制request传入参数名称和controller方法的形参名称一致。</p><p>通过required属性指定参数是否必须要传入，如果设置为true，没有传入参数，报下边错误：</p><h2 id="4-4-pojo绑定"><a href="#4-4-pojo绑定" class="headerlink" title="4.4 pojo绑定"></a>4.4 pojo绑定</h2><pre><code>    @RequestMapping(&quot;/editItemsSubmit&quot;)
    public String editItemsSubmit(HttpServletRequest request,Integer id,ItemsCustom itemsCustom) throws Exception{
        //调用service更新商品信息，页面需要将商品信息传到此方法        itemsService.updateItems(id, itemsCustom);

        //重定向到商品的查询列表
//        return &quot;redirect:queryItems.action&quot;;
        //页面转发return &quot;forward:queryItems.action&quot;;
    }
</code></pre><p>页面中<input>的name和controller的pojo形参中的属性名称一致，会自动将页面中的数据绑定到pojo。</p><p>页面定义：</p><p>controller的pojo形参的定义：</p><h3 id="4-4-1简单pojo"><a href="#4-4-1简单pojo" class="headerlink" title="4.4.1简单pojo"></a>4.4.1简单pojo</h3><p>将pojo对象中的属性名与传递进来的属性名对应，如果传进来的参数名称和对象中的属性名称一致则将参数值设置在pojo对象中。</p><p>页面定义如下：</p><pre><code>&lt;input type=&quot;text&quot; name=&quot;**name**&quot;/&gt;&lt;input type=&quot;text&quot; name=&quot;**price**&quot;/&gt;
</code></pre><p>Controller方法定义如下：</p><pre><code>@RequestMapping(&quot;/editItemSubmit&quot;)
    public String editItemSubmit(Items items)throws Exception{
    System.out.println(items);
</code></pre><p>请求参数名称和pojo的属性名称一致，会自动将请求参数赋值给pojo的属性。</p><h3 id="4-4-2包装pojo"><a href="#4-4-2包装pojo" class="headerlink" title="4.4.2包装pojo"></a>4.4.2包装pojo</h3><p>如果采用类似struts中对象.属性的方式命名，需要将pojo对象作为一个包装对象的属性，Controller方法中以该包装对象最为形参。</p><p>包装对象定义如下：</p><pre><code>publicclass QueryVo {
　　private Items **items**;
}
</code></pre><p>页面定义：</p><pre><code>&lt;input type=&quot;text&quot; name=&quot;**items.**name&quot;/&gt;&lt;input type=&quot;text&quot; name=&quot;**items.**price&quot;/&gt;
</code></pre><p>Controller方法定义如下：</p><pre><code>public String useraddsubmit(Model model,QueryVo queryVo)throws Exception{
System.out.println(queryVo.getItems());
</code></pre><h2 id="4-5自定义参数绑定"><a href="#4-5自定义参数绑定" class="headerlink" title="4.5自定义参数绑定"></a>4.5自定义参数绑定</h2><p>需求：</p><p>对于controller形参中pojo对象，如果属性中有日期类型，需要自定义参数绑定。将请求日期参数串转成日期类型，要转换的日期类型和pojo中日期属性的类型保持一致。</p><p>所有自定义参数绑定将日期串转成java.util.Date类型。</p><p>需要向处理器适配器中注入自定义的参数绑定组件。</p><h3 id="4-5-1自定义日期类型绑定"><a href="#4-5-1自定义日期类型绑定" class="headerlink" title="4.5.1自定义日期类型绑定"></a>4.5.1自定义日期类型绑定</h3><pre><code>package joanna.yan.ssm.controller.converter;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import org.springframework.core.convert.converter.Converter;
/**
 * 日期转换器
 * @author Joanna.Yan
 *
 */publicclass CustomDateConverter implements Converter&lt;String, Date&gt;{

    @Override
    public Date convert(String source) {
        System.out.println(&quot;source=&quot;+source);
        SimpleDateFormat sdf=new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
        try {
            return sdf.parse(source);
        } catch (ParseException e) {
            e.printStackTrace();
        }
        returnnull;
    }

}
</code></pre><h3 id="4-5-2配置方式"><a href="#4-5-2配置方式" class="headerlink" title="4.5.2配置方式"></a>4.5.2配置方式</h3><h4 id="4-5-2-1配置方式1"><a href="#4-5-2-1配置方式1" class="headerlink" title="4.5.2.1配置方式1"></a>4.5.2.1配置方式1</h4><p>classpath下springmvc.xml中加：</p><pre><code>&lt;mvc:annotation-driven conversion-service=&quot;conversionService&quot;&gt;&lt;/mvc:annotation-driven&gt;&lt;!-- 自定义参数绑定 --&gt;&lt;bean id=&quot;conversionService&quot; class=&quot;org.springframework.format.support.FormattingConversionServiceFactoryBean&quot;&gt;&lt;!-- 转换器 --&gt;&lt;property name=&quot;converters&quot;&gt;&lt;list&gt;&lt;!-- 日期类型转换 --&gt;&lt;bean class=&quot;joanna.yan.ssm.controller.converter.CustomDateConverter&quot;/&gt;&lt;/list&gt;&lt;/property&gt;&lt;/bean&gt;
</code></pre><h4 id="4-5-2-2配置方式2"><a href="#4-5-2-2配置方式2" class="headerlink" title="4.5.2.2配置方式2"></a>4.5.2.2配置方式2</h4><pre><code>&lt;!--注解适配器 --&gt;&lt;bean
        class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;&lt;property name=&quot;webBindingInitializer&quot; ref=&quot;customBinder&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- 自定义webBinder --&gt;&lt;bean id=&quot;customBinder&quot;
        class=&quot;org.springframework.web.bind.support.ConfigurableWebBindingInitializer&quot;&gt;&lt;property name=&quot;conversionService&quot; ref=&quot;conversionService&quot;/&gt;&lt;/bean&gt;&lt;!-- conversionService --&gt;&lt;bean id=&quot;conversionService&quot;
        class=&quot;org.springframework.format.support.FormattingConversionServiceFactoryBean&quot;&gt;&lt;!-- 转换器 --&gt;&lt;property name=&quot;converters&quot;&gt;&lt;list&gt;&lt;bean class=&quot;joanna.yan.ssm.controller.converter.CustomDateConverter&quot;/&gt;&lt;/list&gt;&lt;/property&gt;&lt;/bean&gt;
</code></pre><h2 id="4-6集合类"><a href="#4-6集合类" class="headerlink" title="4.6集合类"></a>4.6集合类</h2><h3 id="4-6-1字符串数组"><a href="#4-6-1字符串数组" class="headerlink" title="4.6.1字符串数组"></a>4.6.1字符串数组</h3><p>页面定义如下：</p><p>页面选中多个checkbox向controller方法传递：</p><pre><code>&lt;input type=&quot;checkbox&quot; name=&quot;item_id&quot; value=&quot;001&quot;/&gt;&lt;input type=&quot;checkbox&quot; name=&quot;item_id&quot; value=&quot;002&quot;/&gt;&lt;input type=&quot;checkbox&quot; name=&quot;item_id&quot; value=&quot;003&quot;/&gt;
</code></pre><p>传递到controller方法中的格式是：001,002,003</p><p>Controller方法中可以用String[]接收，定义如下：</p><pre><code>public String deleteitem(String[] item_id)throws Exception{
        System.out.println(item_id);
｝
</code></pre><h3 id="4-6-2List"><a href="#4-6-2List" class="headerlink" title="4.6.2List"></a>4.6.2List</h3><p>List中存放对象，并将定义的List放在包装类中，controller使用包装对象接收。</p><p>包装类中定义List对象，并添加get/set方法如下：</p><pre><code>Public class QueryVo {
Private List&lt;Items&gt; itemList;//商品列表

  //get/set方法..
}
</code></pre><p>页面定义如下：</p><pre><code>&lt;tr&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot; itemsList[0].id&quot; value=&quot;${item.id}&quot;/&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot; itemsList[0].name&quot; value=&quot;${item.name }&quot;/&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot; itemsList[0].price&quot; value=&quot;${item.price}&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot; itemsList[1].id&quot; value=&quot;${item.id}&quot;/&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot; itemsList[1].name&quot; value=&quot;${item.name }&quot;/&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot; itemsList[1].price&quot; value=&quot;${item.price}&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;
</code></pre><p>上边的静态代码改为动态jsp代码如下：</p><pre><code>&lt;c:forEach items=&quot;${itemsList }&quot; var=&quot;item&quot; varStatus=&quot;s&quot;&gt;&lt;tr&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;itemsList[${s.index }].name&quot; value=&quot;${item.name }&quot;/&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;itemsList[${s.index }].price&quot; value=&quot;${item.price }&quot;/&gt;&lt;/td&gt;
    .....
    .....
&lt;/tr&gt;&lt;/c:forEach&gt;
</code></pre><p>Contrller方法定义如下：</p><pre><code>public String useraddsubmit(Model model,QueryVo queryVo)throws Exception{
System.out.println(queryVo.getItemList());
}
</code></pre><h3 id="4-6-3Map"><a href="#4-6-3Map" class="headerlink" title="4.6.3Map"></a>4.6.3Map</h3><p>在包装类中定义Map对象，并添加get/set方法，controller使用包装对象接收。</p><p>包装类中定义Map对象如下：</p><pre><code>Public class QueryVo {
private Map&lt;String, Object&gt; itemInfo = new HashMap&lt;String, Object&gt;();
  //get/set方法..
}
</code></pre><p>页面定义如下：</p><pre><code>&lt;tr&gt;&lt;td&gt;学生信息：&lt;/td&gt;&lt;td&gt;
姓名：&lt;inputtype=&quot;text&quot;name=&quot;itemInfo[&apos;name&apos;]&quot;/&gt;
年龄：&lt;inputtype=&quot;text&quot;name=&quot;itemInfo[&apos;price&apos;]&quot;/&gt;
.. .. ..
&lt;/td&gt;&lt;/tr&gt;
</code></pre><p>Contrller方法定义如下：</p><pre><code>public String useraddsubmit(Model model,QueryVo queryVo)throws Exception{
System.out.println(queryVo.getStudentinfo());
}
</code></pre><h1 id="5-post中文乱码"><a href="#5-post中文乱码" class="headerlink" title="5.post中文乱码"></a>5.post中文乱码</h1><p>在web.xml中加入：</p><pre><code>&lt;!-- 解决post乱码 --&gt;&lt;filter&gt;&lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;&lt;init-param&gt;&lt;param-name&gt;encoding&lt;/param-name&gt;&lt;param-value&gt;utf-8&lt;/param-value&gt;&lt;/init-param&gt;&lt;/filter&gt;&lt;filter-mapping&gt;&lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;&lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;
</code></pre><p>以上可以解决post请求乱码问题。</p><p>对于get请求中文参数出现乱码解决方法有两个：</p><p>修改Tomcat配置文件添加编码与工程编码一致，如下：</p><pre><code>&lt;Connector **URIEncoding=&quot;utf-8&quot;** connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;/&gt;
</code></pre><p>另外一种方法对参数进行重新编码：</p><pre><code>String userName=new String(request.getParamter(&quot;userName&quot;).getBytes(&quot;ISO8859-1&quot;),&quot;utf-8&quot;);
</code></pre><p>ISO8859-1是Tomcat默认编码，需要将Tomcat编码后的内容按utf-8编码。</p><h1 id="6-SpringMVC和Struts2的区别"><a href="#6-SpringMVC和Struts2的区别" class="headerlink" title="6.SpringMVC和Struts2的区别"></a>6.SpringMVC和Struts2的区别</h1><p>（1）SpringMVC的入口是一个Servlet即前端控制器，而Struts2的入口是一个filter过滤器。</p><p>（2）SpringMVC是基于方法开发（一个url对应一个方法），请求参数传递到方法的形参，可以设计为单例或多例（建议单例），struts2是基于类开发，传递参数是通过类的成员变量，只能设计为多例。</p><p>SpringMVC将url和Controller方法映射，映射成功后SpringMVC生成一个Handler对象，对象中止包括了一个method。方法执行结束后，形参数据销毁。</p><p>SpringMVC的Controller开发类似service开发。</p><p>（3）Strut采用值栈存储请求和响应的数据，通过OGNL存取数据，SpringMVC通过参数解析器将request请求内容解析，并给方法形参赋值，将数据和视图封装成ModelAndView对象，最后又将ModelAndView中的模型数据通过request域传输到页面。jsp视图解析器默认使用jstl。</p><p>（4）经过实际测试，Struts2速度慢在于使用Struts标签，如果使用Struts建议使用jstl。</p><p>如果此文对您有帮助，微信打赏我一下吧~</p></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="4142158067"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="5618891265"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/数据库（分库分表）中间件对比.html" rel="next" title="数据库（分库分表）中间件对比"><i class="fa fa-chevron-left"></i> 数据库（分库分表）中间件对比</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/java内部类基本使用.html" rel="prev" title="Java内部类基本使用">Java内部类基本使用 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Hello</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">1358</span> <span class="site-state-item-name">posts</span></a></div></nav></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2开发mapper"><span class="nav-number">1.</span> <span class="nav-text">1.2开发mapper</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3开发service"><span class="nav-number">2.</span> <span class="nav-text">1.3开发service</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4开发controller"><span class="nav-number">3.</span> <span class="nav-text">1.4开发controller</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-编写jsp"><span class="nav-number">4.</span> <span class="nav-text">1.5 编写jsp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-商品修改调试"><span class="nav-number">5.</span> <span class="nav-text">1.6 商品修改调试</span></a></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#2-RequestMapping"><span class="nav-number"></span> <span class="nav-text">2. @RequestMapping</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1URL路径映射"><span class="nav-number">1.</span> <span class="nav-text">2.1URL路径映射</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2窄化请求映射"><span class="nav-number">2.</span> <span class="nav-text">2.2窄化请求映射</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3请求方法限定"><span class="nav-number">3.</span> <span class="nav-text">2.3请求方法限定</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-Controller类中方法的返回值"><span class="nav-number"></span> <span class="nav-text">3.Controller类中方法的返回值</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1返回ModelAndView"><span class="nav-number">1.</span> <span class="nav-text">3.1返回ModelAndView</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2返回字符串"><span class="nav-number">2.</span> <span class="nav-text">3.2返回字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1逻辑视图名"><span class="nav-number">2.1.</span> <span class="nav-text">3.2.1逻辑视图名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2Redirect重定向"><span class="nav-number">2.2.</span> <span class="nav-text">3.2.2Redirect重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-3forward页面转发"><span class="nav-number">2.3.</span> <span class="nav-text">3.2.3forward页面转发</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3返回void"><span class="nav-number">3.</span> <span class="nav-text">3.3返回void</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-参数绑定"><span class="nav-number"></span> <span class="nav-text">4.参数绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1spring参数绑定过程"><span class="nav-number">1.</span> <span class="nav-text">4.1spring参数绑定过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2默认支持的类型"><span class="nav-number">2.</span> <span class="nav-text">4.2默认支持的类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-1HttpServletRequest"><span class="nav-number">2.1.</span> <span class="nav-text">4.2.1HttpServletRequest</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-2HttpServletResponse"><span class="nav-number">2.2.</span> <span class="nav-text">4.2.2HttpServletResponse</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-3HttpSession"><span class="nav-number">2.3.</span> <span class="nav-text">4.2.3HttpSession</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-4Model-ModelMap"><span class="nav-number">2.4.</span> <span class="nav-text">4.2.4Model/ModelMap</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3简单类型"><span class="nav-number">3.</span> <span class="nav-text">4.3简单类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4-pojo绑定"><span class="nav-number">4.</span> <span class="nav-text">4.4 pojo绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-1简单pojo"><span class="nav-number">4.1.</span> <span class="nav-text">4.4.1简单pojo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-2包装pojo"><span class="nav-number">4.2.</span> <span class="nav-text">4.4.2包装pojo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-5自定义参数绑定"><span class="nav-number">5.</span> <span class="nav-text">4.5自定义参数绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-1自定义日期类型绑定"><span class="nav-number">5.1.</span> <span class="nav-text">4.5.1自定义日期类型绑定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-2配置方式"><span class="nav-number">5.2.</span> <span class="nav-text">4.5.2配置方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-2-1配置方式1"><span class="nav-number">5.2.1.</span> <span class="nav-text">4.5.2.1配置方式1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-2-2配置方式2"><span class="nav-number">5.2.2.</span> <span class="nav-text">4.5.2.2配置方式2</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-6集合类"><span class="nav-number">6.</span> <span class="nav-text">4.6集合类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-6-1字符串数组"><span class="nav-number">6.1.</span> <span class="nav-text">4.6.1字符串数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-6-2List"><span class="nav-number">6.2.</span> <span class="nav-text">4.6.2List</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-6-3Map"><span class="nav-number">6.3.</span> <span class="nav-text">4.6.3Map</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-post中文乱码"><span class="nav-number"></span> <span class="nav-text">5.post中文乱码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-SpringMVC和Struts2的区别"><span class="nav-number"></span> <span class="nav-text">6.SpringMVC和Struts2的区别</span></a></li></div></div></section></div></aside><div class="sfix"><div class="fixedme"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9477174171188196" data-ad-slot="9597600460" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Hello</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div><span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script></body></html><!-- rebuild by neat -->