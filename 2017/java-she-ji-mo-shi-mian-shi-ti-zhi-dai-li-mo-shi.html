<!-- build time:Mon Oct 29 2018 21:04:40 GMT+0800 (CST) --><!DOCTYPE html><html class="theme-next muse use-motion"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta name="fileName" content="2017/0456"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="description" content="1，什么是代理模式？代理模式的作用是：为其他对象提供一种代理以控制对这个对象的访问。2，策略模式有什么好处？在某些情况下，一个客户不想或者不能直接引用另一个对象，而代理对象可以在客户端和目标对象之间起到中介的作用。 3，代理模式一般涉及到的角色有：抽象角色：声明真实对象和代理对象的共同接口；代理角色：代理对象角色内部含有对真实对象的引用，从而可以操作真实对象，同时代理对象提供与真实对象相同的接口以"><meta name="keywords" content="JAVA,面试"><meta property="og:type" content="article"><meta property="og:title" content="java设计模式面试题之——代理模式"><meta property="og:url" content="http://www.jfox.info/2017/java-she-ji-mo-shi-mian-shi-ti-zhi-dai-li-mo-shi.html"><meta property="og:site_name" content="java面试"><meta property="og:description" content="1，什么是代理模式？代理模式的作用是：为其他对象提供一种代理以控制对这个对象的访问。2，策略模式有什么好处？在某些情况下，一个客户不想或者不能直接引用另一个对象，而代理对象可以在客户端和目标对象之间起到中介的作用。 3，代理模式一般涉及到的角色有：抽象角色：声明真实对象和代理对象的共同接口；代理角色：代理对象角色内部含有对真实对象的引用，从而可以操作真实对象，同时代理对象提供与真实对象相同的接口以"><meta property="og:locale" content="zh_CN"><meta property="og:updated_time" content="2018-10-27T12:31:13.621Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="java设计模式面试题之——代理模式"><meta name="twitter:description" content="1，什么是代理模式？代理模式的作用是：为其他对象提供一种代理以控制对这个对象的访问。2，策略模式有什么好处？在某些情况下，一个客户不想或者不能直接引用另一个对象，而代理对象可以在客户端和目标对象之间起到中介的作用。 3，代理模式一般涉及到的角色有：抽象角色：声明真实对象和代理对象的共同接口；代理角色：代理对象角色内部含有对真实对象的引用，从而可以操作真实对象，同时代理对象提供与真实对象相同的接口以"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.jfox.info/2017/java-she-ji-mo-shi-mian-shi-ti-zhi-dai-li-mo-shi.html"><title>java设计模式面试题之——代理模式 | java面试</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">java面试</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>Tags</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.jfox.info/2017/java-she-ji-mo-shi-mian-shi-ti-zhi-dai-li-mo-shi.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Hello"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="java面试"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">java设计模式面试题之——代理模式</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-01T23:42:36+08:00">2017-01-01</time></span></div></header><div class="post-body" itemprop="articleBody"><p>1，什么是代理模式？</p><p>代理模式的作用是：为其他对象提供一种代理以控制对这个对象的访问。</p><p>2，策略模式有什么好处？</p><pre><code>在某些情况下，一个客户不想或者不能直接引用另一个对象，而代理对象可以在客户端和目标对象之间起到中介的作用。
</code></pre><p>3，代理模式一般涉及到的角色有：</p><p>抽象角色：声明真实对象和代理对象的共同接口；</p><p>代理角色：代理对象角色内部含有对真实对象的引用，从而可以操作真实对象，同时代理对象提供与真实对象相同的接口以便在任何时刻都能代替真实对象。同时，代理对象可以在执行真实对象操作时，附加其他的操作，相当于对真实对象进行封装。</p><p>真实角色：代理角色所代表的真实对象，是我们最终要引用的对象。</p><p>4，应用场景举例：</p><p>比如西门庆找潘金莲，那潘金莲不好意思答复呀，咋办，找那个王婆做代理，表现在程序上时是这样的体现的</p><p>先说说这个场景中的要素：一种类型的女人，潘金莲，王婆，西门庆，后来扩展的贾氏也和西门庆勾上了，我们是假设的，然后西门庆找潘金莲happy,但潘金莲不好意思直接，就找个王婆代理呗。我们看看具体代码。</p><p>先定义一种女人</p><p>package com.yangguangfu.proxy;<br>/**</p><ul><li></li><li>@author 阿福(<a href="mailto:trygf521@126.com" target="_blank" rel="noopener">trygf521@126.com</a>)<br><br><em>定义一种类型的女人，王婆和潘金莲都属于这个类型的女人 </em>/<br>public interface KindWoman {<br>//这种女人能做什么事情呢？<br>public void makeEyesWithMan();//抛媚眼<br>public void happyWithMan();//和男人那个….</li></ul><p>}</p><p>一种类型嘛，那肯定是接口，定义个潘金莲</p><p>package com.yangguangfu.proxy;<br>/**</p><ul><li></li><li><p>@author 阿福(<a href="mailto:trygf521@126.com" target="_blank" rel="noopener">trygf521@126.com</a>)<br><br><em>定义一个潘金莲是什么样的人 </em>/<br>public class PanJinLian implements KindWoman{</p><p>@Override<br>public void happyWithMan() {<br>System.out.println(“潘金莲和男人在做那个…”);<br>}</p><p>@Override<br>public void makeEyesWithMan() {<br>System.out.println(“潘金莲抛媚眼…”);<br>}</p></li></ul><p>}</p><p>再定义个丑陋的王婆</p><p>package com.yangguangfu.proxy;<br>/**</p><ul><li></li><li><p>@author 阿福(<a href="mailto:trygf521@126.com" target="_blank" rel="noopener">trygf521@126.com</a>)<br><br><em>王婆这个人老聪明了，她太老了，是个男人都看不上她， </em>但是她有智慧经验呀，他作为一类女人的代理！<br>*/<br>public class WangPo implements KindWoman {<br>private KindWoman kindWoman;<br>public WangPo(){<br>//默认的话是潘金莲的代理<br>this.kindWoman = new PanJinLian();<br>}<br>//她可以是KindWomam的任何一个女人的代理，只要你是这一类型<br>public WangPo(KindWoman kindWoman){<br>this.kindWoman = kindWoman;<br>}</p><p>@Override<br>public void happyWithMan() {<br>//自己老了，干不了了，但可以叫年轻的代替。<br>this.kindWoman.happyWithMan();<br>}</p><p>@Override<br>public void makeEyesWithMan() {<br>//王婆年纪大了，谁看她抛媚眼啊<br>this.kindWoman.makeEyesWithMan();<br>}</p></li></ul><p>}</p><p>两个女主角都上场了，该男主角了，定义个西门庆</p><p>package com.yangguangfu.proxy;<br>/**</p><ul><li></li><li><p>@author 阿福(<a href="mailto:trygf521@126.com" target="_blank" rel="noopener">trygf521@126.com</a>)<br><br><em>水浒传是这样写的：西门庆被潘金莲用竹竿敲了一下，西门庆看痴迷了，被王婆看到了，就开始撮合两人好事，王婆作为潘金莲的代理人收了不少好处费，那我们假设一下： </em>如果没有王婆在中间牵线，这两个不要脸的能成事吗？难说得很！<br>*/<br>public class XiMenQiang {</p><p>/**</p></li><li><p>@param args<br>*/<br>public static void main(String[] args) {<br>WangPo wangPo;<br>//把王婆叫出来<br>wangPo = new WangPo();<br>//然后西门庆说，我要和潘金莲Happy,然后王婆就安排了西门庆丢筷子哪出戏：<br>wangPo.makeEyesWithMan();<br>//看到没有表面是王婆在做，其实爽的是潘金莲<br>wangPo.happyWithMan();</p><p>}</p></li></ul><p>}</p><p>那这就是活生生的一个例子，通过代理人实现了某种目的，如果真去了王婆这个中间环节，直接西门庆和潘金莲勾搭，估计很难成就武松杀嫂事件。</p><pre><code>那我们再考虑一下，水浒里面还有没有这类型的女人？有，卢俊义的老婆贾氏（就是和那个管家苟合的那个），这个名字起的：“贾氏”，那我们也让王婆做她的代理：
</code></pre><p>package com.yangguangfu.proxy;<br>/**</p><ul><li></li><li><p>@author 阿福(<a href="mailto:trygf521@126.com" target="_blank" rel="noopener">trygf521@126.com</a>)<br><br><em>定义一个贾氏是什么样的人 </em>/<br>public class JiaShi implements KindWoman {</p><p>@Override<br>public void happyWithMan() {<br>System.out.println(“贾氏和男人在做那个…”);<br>}</p><p>@Override<br>public void makeEyesWithMan() {<br>System.out.println(“贾氏抛媚眼…”);<br>}</p></li></ul><p>}<br>西门庆勾潘金莲又勾引贾氏</p><p>package com.yangguangfu.proxy;<br>/**</p><ul><li></li><li><p>@author 阿福(<a href="mailto:trygf521@126.com" target="_blank" rel="noopener">trygf521@126.com</a>)<br><br><em>水浒传是这样写的：西门庆被潘金莲用竹竿敲了一下，西门庆看痴迷了，被王婆看到了，就开始撮合两人好事，王婆作为潘金莲的代理人收了不少好处费，那我们假设一下： </em>如果没有王婆在中间牵线，这两个不要脸的能成事吗？难说得很！<br>*/<br>public class XiMenQiang {</p><p>/**</p></li><li><p>@param args<br>*/<br>public static void main(String[] args) {<br>WangPo wangPo;<br>//把王婆叫出来<br>wangPo = new WangPo();<br>//然后西门庆说，我要和潘金莲Happy,然后王婆就安排了西门庆丢筷子哪出戏：<br>wangPo.makeEyesWithMan();<br>//看到没有表面是王婆在做，其实爽的是潘金莲<br>wangPo.happyWithMan();<br>//西门庆勾引贾氏<br>JiaShi jiaShi = new JiaShi();<br>wangPo = new WangPo(jiaShi);<br>wangPo.makeEyesWithMan();<br>wangPo.happyWithMan();</p><p>}</p></li></ul><p>}<br>说完这个故事，那我总结一下，代理模式主要使用了java的多态，干活的是被代理类，代理类主要是接活，你让我干活，好，我交给幕后的类去干，你满意就 成，那怎么知道被代理类能不能干呢？同根就成，大家知根知底，你能做啥，我能做啥都清楚得很，同样一个接口呗。好了不多说了，慢慢体会吧。</p><p>本文转自 <a href="https://www.jfox.info/go.php?url=http://yangguangfu.iteye.com/blog/815787">http://yangguangfu.iteye.com/blog/815787</a></p></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="4142158067"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="5618891265"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/guan-yu-java-yi-chang-cuo-wu-de-mian-shi-ti.html" rel="next" title="关于java异常错误的面试题及答案"><i class="fa fa-chevron-left"></i> 关于java异常错误的面试题及答案</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/java-she-ji-mo-shi-mian-shi-ti-zhi-dai-li-mo-shi.html" rel="prev" title="java设计模式面试题之——代理模式">java设计模式面试题之——代理模式 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Hello</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">688</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">4</span> <span class="site-state-item-name">tags</span></a></div></nav></div></section></div></aside><div class="sfix"><div class="fixedme"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9477174171188196" data-ad-slot="9597600460" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Hello</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div><span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script></body></html><!-- rebuild by neat -->