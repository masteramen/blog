<!DOCTYPE html>
<html lang="zh_CN"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>浅入深出之Java集合框架（中） | Java面试</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="浅入深出之Java集合框架（中）" />
<meta property="og:locale" content="zh_CN" />
<meta name="description" content="浅入深出之Java集合框架（中）" />
<meta property="og:description" content="浅入深出之Java集合框架（中）" />
<link rel="canonical" href="http://www.jfox.info/2017/%E6%B5%85%E5%85%A5%E6%B7%B1%E5%87%BA%E4%B9%8Bjava%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E4%B8%AD-2.html" />
<meta property="og:url" content="http://www.jfox.info/2017/%E6%B5%85%E5%85%A5%E6%B7%B1%E5%87%BA%E4%B9%8Bjava%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E4%B8%AD-2.html" />
<meta property="og:site_name" content="Java面试" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-01-01T23:55:46+08:00" />
<script type="application/ld+json">
{"description":"浅入深出之Java集合框架（中）","@type":"BlogPosting","url":"http://www.jfox.info/2017/%E6%B5%85%E5%85%A5%E6%B7%B1%E5%87%BA%E4%B9%8Bjava%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E4%B8%AD-2.html","headline":"浅入深出之Java集合框架（中）","dateModified":"2017-01-01T23:55:46+08:00","datePublished":"2017-01-01T23:55:46+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.jfox.info/2017/%E6%B5%85%E5%85%A5%E6%B7%B1%E5%87%BA%E4%B9%8Bjava%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E4%B8%AD-2.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://www.jfox.info/feed.xml" title="Java面试" /></head><body><header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/">Java面试</a><nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18px" height="15px">
            <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
          </svg>
        </span>
      </label>

      <div class="trigger"><a class="page-link" href="/about/">About</a></div>
    </nav></div>
</header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">浅入深出之Java集合框架（中）</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2017-01-01T23:55:46+08:00" itemprop="datePublished">Jan 1, 2017
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    
<h1 id="浅入深出之java集合框架中">浅入深出之Java集合框架（中）</h1>

<h1 id="java中的集合框架中">Java中的集合框架（中）</h1>

<p>由于Java中的集合框架的内容比较多，在这里分为三个部分介绍Java的集合框架，内容是从浅到深，如果已经有java基础的小伙伴可以直接跳到&lt;浅入深出之Java集合框架（下）&gt;。</p>

<h3 id="目-录">目 录</h3>

<p><em><a href="https://www.jfox.info/go.php?url=http://www.cnblogs.com/hysum/p/7136480.html">浅入深出之Java集合框架（上）</a></em></p>

<p><em>浅入深出之Java集合框架（下）　</em>努力赶制中。。<em>关注后更新会提醒哦！</em>**</p>

<h3 id="前-言"><strong>前 言</strong></h3>

<p>在&lt;<em><a href="https://www.jfox.info/go.php?url=http://www.cnblogs.com/hysum/p/7136480.html">浅入深出之Java集合框架（上）</a></em>&gt;中介绍了List接口和Set接口的基本操作，在这篇文章中，我将介绍关于Map接口的基本操作。使用的示例是在&lt;<em><a href="https://www.jfox.info/go.php?url=http://www.cnblogs.com/hysum/p/7136480.html">浅入深出之Java集合框架（上）</a></em>&gt;中的模拟学生选课的小程序，不清楚的朋友可以先去阅读&lt;<em><a href="https://www.jfox.info/go.php?url=http://www.cnblogs.com/hysum/p/7136480.html">浅入深出之Java集合框架（上）</a></em>&gt;。</p>

<h2 id="一maphashmap简介">一、Map&amp;HashMap简介</h2>

<h4 id="1map接口">1）Map接口</h4>

<ol>
  <li>Map接口提供了一中映射关系，其中的元素是键值对（key-value）的形式存储的，能够实现根据Key快速查找value。Key-value可以是任何对象，是以Entry类型的对象实例存在的。</li>
</ol>

<p>2.Key是不可以重复的，Value是可以重复的。Key-value都可以为null，不过只能有一个key是null。</p>

<p>3.Map支持泛型，Map&lt;K,V&gt;</p>

<p>4.每个键最多只能映射到一个值</p>

<p>5.Map接口提供了分别返回key值集合、value值集合以及Entry（键值对）集合的方法</p>

<p>6.通过put&lt;K key,V value&gt;,remove<object key="">操作数</object></p>

<h4 id="2hashmap实现类">2）HashMap实现类</h4>

<ol>
  <li>
    <p>HashMap中的Entry对象是无序排列的，HashMap是Map的一个重要实现类，也是最常用的，基于哈希表是实现</p>
  </li>
  <li>
    <p>Key值和value值都可以为null，但是一个HashMap只能有一个key值为null的映射（key不可重复）</p>
  </li>
</ol>

<h2 id="二学生选课使用map添加学生">二、学生选课——使用Map添加学生</h2>

<h4 id="案例功能说明">案例功能说明</h4>

<p>1.通过Map&lt;String,Student&gt;进行学生信息管理，其中key为学生ID，value为学生对象。</p>

<p>2.通过键盘输入学生信息</p>

<p>3.对集合中的学生信息进行增删该查操作</p>

<p>首先创建一个StuMap类来测试Map的使用方法。如下：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1/** 2 * 学生类的Map集合类
 3 * 
 4 * @author acer
 5 *
 6*/ 7publicclass StuMap {
 8// 用来承装学生类型对象 9private Map&lt;String, Student&gt; students;
10privatestatic Scanner in;
11    {
12         in = new Scanner(System.in);
13    }
1415public StuMap() {
16         students = new HashMap&lt;String, Student&gt;();
1718    }
19//省略方法，下面的方法会逐个列出20 }
</code></pre></div></div>

<p><strong>»»»»»»»»»»»»»»»»»»»»&gt;</strong></p>

<p>和List接口不同，向Map添加对象使用的是put(key,value)方法。以下是使用示例：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1/* 2     * 添加学生类 输入学生id，
 3     * 判断是否被占用 若未被占用，则输入姓名，创建新的学生对象，并且把该对象添加到Map中
 4     * 否则，则提示已有该id
 5*/ 6publicvoid AddStu() {
 7         System.out.println("请输入要添加的学生id：");
 8         String Id = in.next();// 接受输入的id 9         Student st=students.get(Id);
10if(st==null){
1112             System.out.println("请输入要添加的学生姓名：");
13             String name = in.next();// 接受输入的name14this.students.put(Id, new Student(Id, name));
15         }else{
16             System.out.println("此Id已被占用！");
17        }
1819     }
</code></pre></div></div>

<p>再写一个打印输出的测试函数，如：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1/* 2     * 打印学生类
 3     * 
 4*/ 5publicvoid PrintStu() {
 6         System.out.println("总共有"+this.students.size()+"名学生：");
 7//遍历keySet 8for (String s : this.students.keySet()) {
 9             Student st=students.get(s);
10if(st!=null){
11             System.out.println("学生：" + students.get(s).getId() + "," + students.get(s).getName());
12            }
13        }
14     }
</code></pre></div></div>

<p>上面的例子是使用Map的keySet()返回Map中的key的Set集合再用if进行判断输出，在Map还可以用entrySet()的方法返回Map中的键值对Entry，如：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1/* 2     * 通过entrySet方法遍历Map
 3*/ 4publicvoid EntrySet(){
 5         Set&lt;Entry&lt;String, Student&gt;&gt; entrySet =students.entrySet();
 6for(Entry&lt;String, Student&gt; entry:entrySet){
 7             System.out.println("取得建："+entry.getKey());
 8             System.out.println("对应的值："+entry.getValue().getName());
 910        }
11     }
</code></pre></div></div>

<p>最后我们用主函数调用一下这些函数来看看效果如何</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1publicstaticvoid main(String[] args) {
2         StuMap stu = new StuMap();
3for (int i = 0; i &lt; 3; i++) {
4            stu.AddStu();
5        }
6        stu.PrintStu();
7        stu.EntrySet();
8     }
</code></pre></div></div>

<p>代码分析：</p>

<p>1.student.get(ID)是采用Map的get（）方法，检测是否存在值为ID的学生，如果没有，则返回null。这里的案例是把Map中的key值设为学生的ID值，所以可以用这样的方式来检测，如果key值是学生其他属则性另当别论！！</p>

<p>2.keySet()方法，返回所有键的Set集合。</p>

<p>3.keyset()返回Map中所有的key以集合的形式可用Set集合接收，HashMap当中的映射是无序的。</p>

<p>3.Map还可以用entrySet()的方法返回Map中的键值对Entry，Entry也是Set集合，它可以调用getKey()和getValue()方法来分别得到键值对的<strong>“键”和“值”</strong>。</p>

<p>运行结果：</p>

<h2 id="三学生选课删除map中的学生">三、学生选课——删除Map中的学生</h2>

<p>删除Map中的键值对是调用remove(object key)方法，下面是它的使用示例：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1/* 2     * 删除map中映射
 3*/ 4publicvoid RemoveStu(){
 5do{
 6         System.out.println("请输入要删除的学生id：");
 7         String Id = in.next();// 接受输入的id 8         Student st=students.get(Id);
 9if(st==null){
10             System.out.println("此id不存在！");
1112         }else{
13this.students.remove(Id);
14             System.out.println("成功删除"+st.getId()+","+st.getName()+"同学");
15break;
16        }
17         }while(true);
18     }
</code></pre></div></div>

<p>运行结果：</p>

<h2 id="四学生选课修改map中的学生">四、学生选课——修改Map中的学生</h2>

<p>修改Map中的键值对有两种方法，第一种就是用<strong>put方法</strong>。其实就是添加方法中的put，使用方法跟添加无异，这里的本质就是利用put把原来的数据给覆盖掉，即修改。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1/* 2     * 利用put方法修改Map中的value值
 3*/ 4publicvoid ModifyStu(){
 5do{
 6             System.out.println("请输入要修改的学生id：");
 7             String Id = in.next();// 接受输入的id 8             Student st=students.get(Id);
 9if(st==null){
10                 System.out.println("此id不存在！");
1112             }else{
13                 System.out.println("学生原来的姓名："+st.getName()+"，请输入修改后的姓名：");
14                 String name = in.next();// 接受输入的name15                 st=new Student(Id,name);
16this.students.put(Id,st);
17                 System.out.println("成功修改！修改后的学生为："+st.getId()+","+st.getName()+"同学");
18break;
19            }
20             }while(true);
2122     }
</code></pre></div></div>

<p>除了用put方法外，Map中提供一个叫做replace的方法，知名知其意，就是“替换”的意思。replace的方法使用和put方法一样，这是因为它的内部源码如下：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1if (map.containsKey(key)) {
2return map.put(key, value);
3  } else4returnnull;
5
</code></pre></div></div>

<p>可以看出replace方法就是调用put方法来完成修改操作的，但是我们为了和添加put进行区分，最好在使用修改的时候用replace方法进行修改。这样的代码可读性和维护性就增强了。</p>

<p>那么使用replace修改Map中的value值如下：<strong>（推荐使用replace方法）</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1/* 2     * 利用replace方法修改Map中的value值
 3*/ 4publicvoid Modify(){
 5do{
 6             System.out.println("请输入要修改的学生id：");
 7             String Id = in.next();// 接受输入的id 8             Student st=students.get(Id);
 9if(st==null){
10                 System.out.println("此id不存在！");
1112             }else{
13                 System.out.println("学生原来的姓名："+st.getName()+"，请输入修改后的姓名：");
14                 String name = in.next();// 接受输入的name15                 st=new Student(Id,name);
16this.students.replace(Id, st);
17                 System.out.println("成功修改！修改后的学生为："+st.getId()+","+st.getName()+"同学");
18break;
19            }
20             }while(true);
21     }
</code></pre></div></div>

<p>运行结果：</p>

<h2 id="五总结">五、总结</h2>

<p>Map** –特点**：元素成对出现，key-value，是映射关系，key不能重复，但value可以重复，也就是说，可以多key对一个value。支持泛型如Map&lt;yy1, yy2&gt;。</p>

<p>–<strong>实现类</strong>：HashMap是最常用的，HashMap中是无序排列，其元素中key或value可为null(但只能有一个为null)。</p>

<p>–<strong>声明(泛型)举例</strong>： 在类中声明 public Map&lt;类型1, 类型2&gt; xxx; 然后再构造方法中this.xxx = new HashMap&lt;类型1, 类型2();</p>

<p>–<strong>获取</strong>：yy temp = xxx.get(key)</p>

<p>–<strong>添加</strong>：xxx.put( key(xx型), zz(yy型) );</p>

<p>–<strong>返回map中所有key（返回是set型集合形式）</strong> set xxxxx = xxx.keyset(); 用于遍历。</p>

<p>–<strong>返回map中所有entry对（key-value对）</strong>（返回是set型集合形式） set&lt;Entry&lt;xx, yy» xxxxx = xxx.entrySet(); 同样用于遍历。 遍历时：for(Entry&lt;xx,yy&gt; 元素: xxxxx)</p>

<p>–<strong>删除</strong>：xxx.remove(key);</p>

<p>–<strong>修改：</strong>可以用put，当put方法传入的key存在就相当于是修改（覆盖）；但是推荐使用replace方法！</p>

<p>本章主要介绍了Map接口的基本操作，发出下一篇预告：集合的基本操作不够用怎么办？如何判断集合中的某个元素对象是否存在？如何对List集合进行排序呢？这些问题是否困扰着你呢，在下一篇中博主将会针对这些问题来给大家介绍java集合框架的其他成员，后续如何请<strong>关注</strong>~~</p>

  </div><div style="width:300px;height:250px;float:left;">
    <!-- 300_250_1 -->
    <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196"
        data-ad-slot="4142158067"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<div style="width:300px;height:250px;float:left;">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- 300-250-2 -->
    <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196"
        data-ad-slot="5618891265"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div><a class="u-url" href="/2017/%E6%B5%85%E5%85%A5%E6%B7%B1%E5%87%BA%E4%B9%8Bjava%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E4%B8%AD-2.html" hidden></a>
</article>
<div class="PageNavigation">
  
  <a class="prev" href="/2017/java8collector%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9A%E5%88%B6%E5%AE%9E%E7%8E%B0.html">&laquo; Java8 collector接口的定制实现</a>
  
  
  <a class="next" href="/2017/reflectionjava%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.html">Reflection：Java反射机制的应用场景 &raquo;</a>
  
</div>
<div class="sfix"><!-- 240x600 -->
<div class="fixedme">
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9477174171188196" data-ad-slot="9597600460"
        data-ad-format="auto"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<script type="text/javascript">
    function offset(target) {
        var top = 0,
            left = 0

        while (target.offsetParent) {
            top += target.offsetTop
            left += target.offsetLeft
            target = target.offsetParent
        }

        return {
            top: top,
            left: left,
        }
    }
    window.onload = function () {
        var e = document.getElementsByClassName('sfix')[0];
        e.offset = offset(e);

        window.onscroll = function (event) {
            var e = document.getElementsByClassName('sfix')[0];
            if (window.pageYOffset && e.offset && window.pageYOffset > e.offset.top) {
                e.style.position = 'fixed';
                e.style.left = e.offset.left + 'px';
                e.style.right = 'auto';


            } else {
                e.style.position = 'absolute';
                e.style.left = 'auto';
                e.style.right = '-240px';

            }
        }
    }

</script></div>

<style>
  .wrapper {
    position: relative;
  }

  .sfix {
    position: absolute;
    top: 0;
    right: -240px;
    width: 240px;
    height: 600px;
  }

  .PageNavigation {
    font-size: 14px;
    display: block;
    width: auto;
    overflow: hidden;
    clear: both;
  }

  .PageNavigation a {
    display: block;
    width: 50%;
    float: left;
    margin: 1em 0;
  }

  .PageNavigation .next {
    text-align: right;
    float: right;
  }
</style>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Java面试</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Java面试</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
