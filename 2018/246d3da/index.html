<!-- build time:Sat Oct 27 2018 21:00:16 GMT+0800 (CST) --><!DOCTYPE html><html class="theme-next muse use-motion"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="description" content="最近打算给xmake写一些 IDE 和编辑器的集成插件，发现 vscode 的编辑器插件比较容易上手的，就先研究了下 vscode 的插件开发流程，并且完成了xmake-vscode插件的开发。我们先来看几张最后的效果图：语法高亮和自动补全状态栏要实现上面的效果，其实并不复杂，首先我们先来简单介绍下，vscode 的插件开发的基本流程：安装插件开发环境安装 cnpm由于国内环境比较复杂，直接用 n"><meta name="keywords" content="JAVA,面试"><meta property="og:type" content="article"><meta property="og:title" content="xmake-vscode插件开发过程记录"><meta property="og:url" content="http://www.jfox.info/2018/246d3da/index.html"><meta property="og:site_name" content="java面试"><meta property="og:description" content="最近打算给xmake写一些 IDE 和编辑器的集成插件，发现 vscode 的编辑器插件比较容易上手的，就先研究了下 vscode 的插件开发流程，并且完成了xmake-vscode插件的开发。我们先来看几张最后的效果图：语法高亮和自动补全状态栏要实现上面的效果，其实并不复杂，首先我们先来简单介绍下，vscode 的插件开发的基本流程：安装插件开发环境安装 cnpm由于国内环境比较复杂，直接用 n"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/83fc69d"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/919cc7d"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/86654bc"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/42b1698"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/c835f86"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/981a05d"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/dd9179b"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/059d764"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/b7cbedd"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/7554f74"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/cb7cfc8"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/84e67a8"><meta property="og:image" content="http://www.jfox.info/2018/246d3da/83fc69d"><meta property="og:updated_time" content="2018-10-24T14:48:47.095Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="xmake-vscode插件开发过程记录"><meta name="twitter:description" content="最近打算给xmake写一些 IDE 和编辑器的集成插件，发现 vscode 的编辑器插件比较容易上手的，就先研究了下 vscode 的插件开发流程，并且完成了xmake-vscode插件的开发。我们先来看几张最后的效果图：语法高亮和自动补全状态栏要实现上面的效果，其实并不复杂，首先我们先来简单介绍下，vscode 的插件开发的基本流程：安装插件开发环境安装 cnpm由于国内环境比较复杂，直接用 n"><meta name="twitter:image" content="http://www.jfox.info/2018/246d3da/83fc69d"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.jfox.info/2018/246d3da/"><title>xmake-vscode插件开发过程记录 | java面试</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">java面试</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.jfox.info/2018/246d3da/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Hello"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="java面试"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">xmake-vscode插件开发过程记录</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-03T13:14:08+08:00">2018-09-03</time></span></div></header><div class="post-body" itemprop="articleBody"><p>最近打算给<a href="https://github.com/tboox/xmake" target="_blank" rel="noopener">xmake</a>写一些 IDE 和编辑器的集成插件，发现 vscode 的编辑器插件比较容易上手的，就先研究了下 vscode 的插件开发流程，并且完成了<a href="https://github.com/tboox/xmake-vscode" target="_blank" rel="noopener">xmake-vscode</a>插件的开发。</p><p>我们先来看几张最后的效果图：</p><h2 id="语法高亮和自动补全"><a href="#语法高亮和自动补全" class="headerlink" title="语法高亮和自动补全"></a>语法高亮和自动补全</h2><p><img src="/2018/246d3da/83fc69d" alt=""></p><h2 id="状态栏"><a href="#状态栏" class="headerlink" title="状态栏"></a>状态栏</h2><p><img src="/2018/246d3da/919cc7d" alt="statusbar"></p><p>要实现上面的效果，其实并不复杂，首先我们先来简单介绍下，vscode 的插件开发的基本流程：</p><h2 id="安装插件开发环境"><a href="#安装插件开发环境" class="headerlink" title="安装插件开发环境"></a>安装插件开发环境</h2><h4 id="安装-cnpm"><a href="#安装-cnpm" class="headerlink" title="安装 cnpm"></a>安装 cnpm</h4><p>由于国内环境比较复杂，直接用 npm 安装也许很慢或者访问不稳定，因此这里先安装了 cnpm 去默认使用淘宝的镜像源。</p><pre><code>$ npm install -g cnpm --registry=https://registry.npm.taobao.org
</code></pre><h4 id="创建空工程"><a href="#创建空工程" class="headerlink" title="创建空工程"></a>创建空工程</h4><p>通过 cnpm 去安装 yo 工具，用来创建一个 vscode 插件的空工程</p><pre><code>$ cnpm install -g yo generator-code
$ yo code
</code></pre><p>大体的源码结构如下：</p><p><img src="/2018/246d3da/86654bc" alt=""></p><p>选择创建项目后有四个输入和一个选择：</p><ul><li>输入你扩展的名称 xmake-vscode</li><li>输入一个标志（项目创建的文件名称用这个）xmake-vscode</li><li>输入对这个扩展的描述</li><li>输入以后要发布用到的一名称（和以后再发布时候有一个名字是对应上的）tboox</li><li>是问你要不要创建一个 git 仓库用于版本管理</li></ul><p>创建完成后的空工程，我们可以用 vscode 直接打开，然后进行调试加载运行下：</p><p><img src="/2018/246d3da/42b1698" alt=""></p><p>加载起来后，敲 F1 打开命令窗口，运行默认的 hello world 测试命令：</p><p><img src="/2018/246d3da/c835f86" alt=""><br><img src="/2018/246d3da/981a05d" alt=""></p><p>到此，一个简答的 demo 插件就搞定了，接下来我们简单介绍下如何发布这个插件到 vscode 的 market 上去。</p><h4 id="创建发布者"><a href="#创建发布者" class="headerlink" title="创建发布者"></a>创建发布者</h4><p>首先我们需要在<a href="https://www.visualstudio.com/products/visual-studio-team-services-vs" target="_blank" rel="noopener">marketplace.visualstudio.com</a>上注册一个账号，创建一个发布者，这里我取名为 tboox</p><p>然后，我们需要在自己的账号里面，添加一个 Personal Access Token（地址：<code>https://[your name].visualstudio.com/_details/security/tokens</code>，注意 Token 只显示一次，最好自己保存一份）</p><p>接着，我们安装下 vsce 这个工具，用于 vscode 的插件工程打包编译和发布。</p><pre><code>$ cnpm install -g vsce
</code></pre><p>安装好 vsce 后，我们先创建一个发布者，这里为 tboox，输入刚刚 market 账号里面提供的 token 进行绑定。</p><pre><code>$ vsce create-publisher (publisher name)
</code></pre><h4 id="构建发布"><a href="#构建发布" class="headerlink" title="构建发布"></a>构建发布</h4><p>最后，只需要通过下面命令进行打包或者发布就行了，如果仅仅打个本地包，拖入 vscode 加载测试，可以运行：</p><pre><code>$ vsce package
</code></pre><p>这将会生成一个类似<code>xmake-vscode-0.0.1.vslx</code>的插件包文件，用 vscode 可直接加载运行。</p><p>如果，我们已经开发完了插件，想要发布到 market 市场，可以执行：</p><pre><code>$ vsce publish [version]
</code></pre><p>这个时候，我们就可以在<a href="https://marketplace.visualstudio.com/items?itemName=tboox.xmake-vscode#overview" target="_blank" rel="noopener">xmake-vscode on marketplace</a>上看到你的插件了，用户也可以直接通过 vscode 进行搜索和安装使用。</p><p><img src="/2018/246d3da/dd9179b" alt=""></p><h2 id="插件开发详解"><a href="#插件开发详解" class="headerlink" title="插件开发详解"></a>插件开发详解</h2><h4 id="插件的加载机制"><a href="#插件的加载机制" class="headerlink" title="插件的加载机制"></a>插件的加载机制</h4><p>插件通过工程根目录 extension.json 中配置的 activationEvents 进行触发，例如：</p><pre><code>{
    &quot;activationEvents&quot;: [
        &quot;workspaceContains:xmake.lua&quot;,
        &quot;onCommand:xmake.sayHello&quot;
    ]
}
</code></pre><p>当 vscode 打开带有<code>xmake.lua</code>的目录或者执行<code>xmake.XXX</code>相关命令的时候，都会触发加载 xmake-vscode 插件，然后调用<code>src/extension.ts</code>中的 activate 入口函数，进行插件的加载和初始化。</p><pre><code>export functionactivate(context: vscode.ExtensionContext) {let disposable = vscode.commands.registerCommand(&apos;xmake.sayHello&apos;, () =&gt; {
        vscode.window.showInformationMessage(&apos;Hello XMake!&apos;);
    });

    context.subscriptions.push(disposable);
}
</code></pre><p>上述代码，在加载插件的时候，注册<code>sayHello</code>命令，去显示<code>Hello XMake!</code>提示信息。</p><h4 id="创建自定义输出"><a href="#创建自定义输出" class="headerlink" title="创建自定义输出"></a>创建自定义输出</h4><p>vscode 通过创建 OutputChannel 来输出自己的日志信息，代码如下：</p><pre><code>import * as vscode from &apos;vscode&apos;;

let log = vscode.window.createOutputChannel(&quot;xmake/log&quot;);
log.show();
log.appendLine(&quot;hello xmake!&quot;);
</code></pre><p>在创建的时候可以指定一个 label 名，用于区分不同的输出通道，最后显示的结果如下：</p><p><img src="/2018/246d3da/059d764" alt=""></p><p>需要注意的是，必须执行<code>log.show()</code>，输出才会被显示出来，并且输出行为是带缓存刷新的，并不会实时输出，也不支持色彩高亮输出。</p><h4 id="创建和控制终端"><a href="#创建和控制终端" class="headerlink" title="创建和控制终端"></a>创建和控制终端</h4><p>之前，xmake-vscode 就是采用 channel 的方式来输出 xmake 的构建信息，效果不是很理想，因此后来改用了终端直接执行的方式，可以看下下面的效果图：</p><p><img src="/2018/246d3da/b7cbedd" alt=""></p><p>那如何控制终端，执行自己的命令呢，其实也非常简单：</p><pre><code>let terminal = vscode.window.createTerminal({name: &quot;xmake&quot;});
terminal.show(true);
terminal.sendText(&quot;xmake&quot;);
</code></pre><p>上面的代码，通过创建一个 label 名为 xmake 的独立终端，然后发送执行命令：<code>xmake</code>，去让终端执行 xmake 进行项目的构建，当然如果要显示出来，还是要先调用下<code>terminal.show(true)</code>。</p><h4 id="添加和读取全局配置"><a href="#添加和读取全局配置" class="headerlink" title="添加和读取全局配置"></a>添加和读取全局配置</h4><p>xmake-vscode 里面增加了一些全局 vscode 配置项，用于控制 xmake-vscode 插件的行为，配置清单是在 package.json 文件中进行描述的，例如：</p><pre><code>{
    &quot;configuration&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;title&quot;: &quot;XMake configuration&quot;,
        &quot;properties&quot;: {
            &quot;xmake.logLevel&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;default&quot;: &quot;normal&quot;,
                &quot;description&quot;: &quot;The Log Level: normal/verbose/minimal&quot;,
                &quot;enum&quot;: [
                    &quot;verbose&quot;,
                    &quot;normal&quot;,
                    &quot;minimal&quot;
                ]
            },
            &quot;xmake.buildDirectory&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;default&quot;: &quot;${workspaceRoot}/build&quot;,
                &quot;description&quot;: &quot;The Build Output Directory&quot;},
            &quot;xmake.androidNDKDirectory&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;default&quot;: &quot;&quot;,
                &quot;description&quot;: &quot;The Android NDK Directory&quot;}
        }
    }
}
</code></pre><p>上述配置，增加了三个配置项，都在<code>xmake.</code>域下面，可在 vscode 配置中直接搜索 xmake 相关字样就能方便找到。</p><p><img src="/2018/246d3da/7554f74" alt=""></p><p>读取配置也很方便，只要获取 xmake 相关域配置，进行读取就行了：</p><pre><code>const config = vscode.workspace.getConfiguration(&apos;xmake&apos;);
config.get(&quot;buildDirectory&quot;);
</code></pre><h4 id="创建状态栏"><a href="#创建状态栏" class="headerlink" title="创建状态栏"></a>创建状态栏</h4><p>状态栏上的按钮是可以响应之前创建的那些命令的，例如：<code>xmake.sayHello</code>等，下面我们在状态栏上创建一个 debug 按钮，用来调试运行 xmake 构建的程序：</p><pre><code>let debugButton = vscode.window.createStatusBarItem(vscode.StatusBarAlignment.Left, 4.5);

debugButton.command = &apos;xmake.onDebug&apos;;
debugButton.text = `$(bug)`;
debugButton.tooltip = &quot;Debug the given target&quot;;
debugButton.show();
</code></pre><p>createStatusBarItem 中第二个参数 4.5 用于控制按钮在状态栏上的布局顺序，创建好后，再设置下一些基础属性就行了，这里按钮的文本直接通过<code>$(bug)</code>设置了一个图标来显示，更加的直观。</p><p>更多 vscode 内置支持的图标，可以自己从<a href="https://octicons.github.com/" target="_blank" rel="noopener">octicons</a>上面去找。</p><p>点击这个按钮，将会触发<code>xmake.onDebug</code>命令，然后在终端上执行<code>xmake run -d</code>命令，去运行调试程序。</p><p><img src="/2018/246d3da/cb7cfc8" alt=""></p><h4 id="添加选项输入列表"><a href="#添加选项输入列表" class="headerlink" title="添加选项输入列表"></a>添加选项输入列表</h4><p>在<a href="https://github.com/tboox/xmake-vscode" target="_blank" rel="noopener">xmake-vscode</a>的状态栏上，我们还增加了几个快速配置的状态按钮，用于快速切换不同的平台、架构、编译模式，例如：</p><p><img src="/2018/246d3da/84e67a8" alt=""></p><p>这个时候，需要有个选项选择列表的支持，在点击按钮后，列出可以选择的几个选项，然后选择切换，那如何创建这个选项列表呢，直接上代码：</p><pre><code>let items: vscode.QuickPickItem[] = [];
items.push({label: &quot;linux&quot;, description: &quot;The Linux Platform&quot;});
items.push({label: &quot;macosx&quot;, description: &quot;The MacOS Platform&quot;});
items.push({label: &quot;windows&quot;, description: &quot;The Windows Platform&quot;});
items.push({label: &quot;android&quot;, description: &quot;The Android Platform&quot;});
items.push({label: &quot;iphoneos&quot;, description: &quot;The iPhoneOS Platform&quot;});
items.push({label: &quot;watchos&quot;, description: &quot;The WatchOS Platform&quot;});
items.push({label: &quot;mingw&quot;, description: &quot;The MingW Platform&quot;});
items.push({label: &quot;cross&quot;, description: &quot;The Cross Platform&quot;});


const chosen: vscode.QuickPickItem|undefined = await vscode.window.showQuickPick(items);
if (chosen) {


    platButton.text = chosen.label;
}
</code></pre><h4 id="自定义语法高亮"><a href="#自定义语法高亮" class="headerlink" title="自定义语法高亮"></a>自定义语法高亮</h4><p>语法高亮完全可以通过配置文件来搞定，不用写代码，当然也可以在代码中动态配置，这样稍微繁琐些。</p><p>xmake-vscode 里面需要处理工程 xmake.lua 描述文件的语法高亮，因此这边在 package.json 里面先定义了一个叫 xmake 的语言类型，如果编辑器打开<code>xmake.lua</code>文件，就会对其进行语法高亮处理。</p><pre><code>{
    &quot;contributes&quot;: {
        &quot;languages&quot;: [
            {
                &quot;id&quot;: &quot;xmake&quot;,
                &quot;filenames&quot;: [
                    &quot;xmake.lua&quot;
                ],
                &quot;aliases&quot;: [
                    &quot;XMake&quot;
                ],
                &quot;configuration&quot;: &quot;./languages/xmake-configuration.json&quot;}
        ],
        &quot;grammars&quot;: [
            {
                &quot;language&quot;: &quot;xmake&quot;,
                &quot;scopeName&quot;: &quot;source.xmake&quot;,
                &quot;path&quot;: &quot;./languages/xmake-grammars.json&quot;}
        ]
    }
}
</code></pre><p>跟语法高亮相关的描述，都放置在<code>/languages/xmake-grammars.json</code>中，用 json 来描述，我们也可以用 xml 的格式来描述，但是这样可读性不是很好。</p><p><code>xmake-grammars.json</code>中的描述规则，我们摘录自 lua 的 grammars 文件，因为<code>xmake.lua</code>本身就是基于 lua 语法的，例如，我们匹配<code>&#39;xxx&#39;</code>单引号字符串的规则，进行字符串的高亮输出。</p><pre><code>{
    &quot;begin&quot;: &quot;&apos;&quot;,
    &quot;beginCaptures&quot;: {
        &quot;0&quot;: {
            &quot;name&quot;: &quot;punctuation.definition.string.begin.xmake&quot;}
    },
    &quot;end&quot;: &quot;&apos;&quot;,
    &quot;endCaptures&quot;: {
        &quot;0&quot;: {
            &quot;name&quot;: &quot;punctuation.definition.string.end.xmake&quot;}
    },
    &quot;name&quot;: &quot;string.quoted.single.xmake&quot;,
    &quot;patterns&quot;: [
        {
            &quot;include&quot;: &quot;#escaped_char&quot;}
    ]
}
</code></pre><h4 id="自动补全的实现"><a href="#自动补全的实现" class="headerlink" title="自动补全的实现"></a>自动补全的实现</h4><p>代码的自动提示和补全比较麻烦下，需要写个自定义的 class，通过 languages 进行注册：</p><pre><code>vscode.languages.registerCompletionItemProvider(&quot;xmake&quot;, new Completion());
</code></pre><p>这里我们定义了一个 Completion 类，注册到 xmake 语言上去，xmake 语言定义，就是刚才讲的在 package.json 中的配置。</p><p>然后我们实现下这个 Completion 类：</p><pre><code>export class Completion implements vscode.CompletionItemProvider {


    public provideCompletionItems(document: vscode.TextDocument, position: vscode.Position, token: vscode.CancellationToken): Thenable&lt;vscode.CompletionItem[]&gt; {

        // 获取当前输入的单词文本let wordAtPosition = document.getWordRangeAtPosition(position);
        var currentWord = &apos;&apos;;
        if (wordAtPosition &amp;&amp; wordAtPosition.start.character &lt; position.character) {
            var word = document.getText(wordAtPosition);
            currentWord = word.substr(0, position.character - wordAtPosition.start.character);
        }


        returnnew Promise(function(resolve, reject) {
            Promise.all([
                getLuaKeywordsSuggestions(currentWord),
                getXMakeCommandsSuggestions(currentWord)
            ]).then(function(results) {var suggestions = Array.prototype.concat.apply([], results);
                resolve(suggestions);
            }).catch(err =&gt; { reject(err); });
        });
    }


    public resolveCompletionItem(item: vscode.CompletionItem, token: vscode.CancellationToken): Thenable&lt;vscode.CompletionItem&gt; {

        // 对每个候选文本增加文档描述returnnew Promise(function(resolve, reject) {
            item.documentation = &quot;xxxxxxxxxxx&quot;;
            resolve(item);
         });
    }
}
</code></pre><p>这部分代码比较多，就不完全贴出来了，完整实现，可参考：<a href="https://github.com/tboox/xmake-vscode/blob/master/src/completion.ts" target="_blank" rel="noopener">completion.ts</a></p><p><img src="/2018/246d3da/83fc69d" alt=""></p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>本文讲述的一些 vscode 插件代码都来自<a href="https://github.com/tboox/xmake-vscode" target="_blank" rel="noopener">xmake-vscode</a>，有兴趣的同学可以直接参考源码，写个自己的插件。</p><p>原文出处：<a href="http://tboox.org/cn/2017/10/11/xmake-vscode/" target="_blank" rel="noopener">http://tboox.org/cn/2017/10/11/xmake-vscode/</a></p></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="4142158067"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div style="width:300px;height:250px;float:left"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9477174171188196" data-ad-slot="5618891265"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/回眸spring事物运行原理机制.html" rel="next" title="回眸Spring – 事物运行原理机制"><i class="fa fa-chevron-left"></i> 回眸Spring – 事物运行原理机制</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2018/510e517/" rel="prev" title="面向开发人员的SQL数据库性能调优">面向开发人员的SQL数据库性能调优 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Hello</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">1358</span> <span class="site-state-item-name">posts</span></a></div></nav></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#语法高亮和自动补全"><span class="nav-number">1.</span> <span class="nav-text">语法高亮和自动补全</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#状态栏"><span class="nav-number">2.</span> <span class="nav-text">状态栏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装插件开发环境"><span class="nav-number">3.</span> <span class="nav-text">安装插件开发环境</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装-cnpm"><span class="nav-number">3.0.1.</span> <span class="nav-text">安装 cnpm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建空工程"><span class="nav-number">3.0.2.</span> <span class="nav-text">创建空工程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建发布者"><span class="nav-number">3.0.3.</span> <span class="nav-text">创建发布者</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#构建发布"><span class="nav-number">3.0.4.</span> <span class="nav-text">构建发布</span></a></li></ol></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#插件开发详解"><span class="nav-number">4.</span> <span class="nav-text">插件开发详解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#插件的加载机制"><span class="nav-number">4.0.1.</span> <span class="nav-text">插件的加载机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建自定义输出"><span class="nav-number">4.0.2.</span> <span class="nav-text">创建自定义输出</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建和控制终端"><span class="nav-number">4.0.3.</span> <span class="nav-text">创建和控制终端</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加和读取全局配置"><span class="nav-number">4.0.4.</span> <span class="nav-text">添加和读取全局配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建状态栏"><span class="nav-number">4.0.5.</span> <span class="nav-text">创建状态栏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加选项输入列表"><span class="nav-number">4.0.6.</span> <span class="nav-text">添加选项输入列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义语法高亮"><span class="nav-number">4.0.7.</span> <span class="nav-text">自定义语法高亮</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自动补全的实现"><span class="nav-number">4.0.8.</span> <span class="nav-text">自动补全的实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#结语"><span class="nav-number">5.</span> <span class="nav-text">结语</span></a></li></div></div></section></div></aside><div class="sfix"><div class="fixedme"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9477174171188196" data-ad-slot="9597600460" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Hello</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div><span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script></body></html><!-- rebuild by neat -->